(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+Awk":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("lwsE"),r=n.n(i),o=n("W8MJ"),s=n.n(o),a=n("rywy"),l=function(){function e(t){r()(this,e),this.uri=t}return s()(e,[{key:"list",value:function(e){return Object(a.a)({url:"/"+this.uri,method:"get",params:e})}},{key:"get",value:function(e){return Object(a.a)({url:"/"+this.uri+"/"+e,method:"get"})}},{key:"store",value:function(e){return Object(a.a)({url:"/"+this.uri,method:"post",data:e})}},{key:"update",value:function(e,t){return Object(a.a)({url:"/"+this.uri+"/"+e,method:"put",data:t})}},{key:"destroy",value:function(e){return Object(a.a)({url:"/"+this.uri+"/"+e,method:"delete"})}}]),e}()},"33yf":function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return(r?"/":"")+(t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),s="/"===r(e,-1);return(e=n(i(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&s&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),s=Math.min(r.length,o.length),a=s,l=0;l<s;l++)if(r[l]!==o[l]){a=l;break}var u=[];for(l=a;l<r.length;l++)u.push("..");return(u=u.concat(o.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,r=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,i=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){n=t+1;break}}else-1===i&&(r=!1,i=t+1);return-1===i?"":e.slice(n,i)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,i=-1,r=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===i&&(r=!1,i=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){n=s+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("8oxB"))},"7W2i":function(e,t,n){var i=n("SksO");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},"7nG9":function(e,t,n){"use strict";n.r(t);var i=n("lSNA"),r=n.n(i),o=n("o0o1"),s=n.n(o),a=n("33yf"),l=n.n(a),u=n("+Awk"),c=n("B5cj"),m=n("GczY"),d=n("g6NE"),f={inserted:function(e,t,n){var i=t.value,r=d.a.getters&&d.a.getters.roles;if(!(i&&i instanceof Array&&i.length>0))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");var o=i;r.some((function(e){return o.includes(e)}))||e.parentNode&&e.parentNode.removeChild(e)}},p=function(e){e.directive("role",f)};window.Vue&&(window.role=f,Vue.use(p)),f.install=p;var h=f,g=n("OuqF");function v(e){if(e&&e instanceof Array&&e.length>0){var t=d.a.getters&&d.a.getters.roles,n=e;return!!t.some((function(e){return n.includes(e)}))}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1}Math.easeInOutQuad=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t};var b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function y(e,t,n){var i=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,r=e-i,o=0;t=void 0===t?500:t;!function e(){o+=20;var s,a=Math.easeInOutQuad(o,i,r,t);s=a,document.documentElement.scrollTop=s,document.body.parentNode.scrollTop=s,document.body.scrollTop=s,o<t?b(e):n&&"function"==typeof n&&n()}()}var P={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:25},pageSizes:{type:Array,default:function(){return[10,25,50,100]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&y(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&y(0,800)}}},w=(n("NLxG"),n("KHd+")),R=Object(w.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[n("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)}),[],!1,null,"08a16ad7",null).exports,k=n("dtHD");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=new u.a("permissions"),C=new c.a,O={components:{Pagination:R},directives:{permission:m.a,role:h},data:function(){return{loading:!1,loadingPermission:!1,currentRoleId:0,permissionId:0,dialogUpdateRoleVisible:!1,dialogCreateRoleVisible:!1,dialogCreatePermissionVisible:!1,routes:[],roles:[],permissions:[],menuPermissions:[],otherPermissions:[],permissionProps:{children:"children",label:"name",disabled:"disabled"},formRole:{name:"",description:""},formPermission:{name:"",description:""},query:{page:1,limit:25,keyword:""},total:0}},created:function(){this.getRoles(),this.getPermissions(),this.getRoutes()},computed:{currentRole:function(){var e=this,t=this.roles.find((function(t){return t.id===e.currentRoleId}));return void 0===t?{name:"",permissions:[]}:t},rolePermissions:function(){return this.classifyPermissions(this.currentRole.permissions).all},roleMenuPermissions:function(){return this.classifyPermissions(this.currentRole.permissions).menu},roleOtherPermissions:function(){return this.classifyPermissions(this.currentRole.permissions).other},routesData:function(){return this.routes},roleRules:function(){var e=this;return{name:[{validator:function(t,n,i){return n?e.roles.some((function(t){return t.name===n&&t.id!==e.currentRoleId}))?i(new Error("Role exist!")):void i():i(new Error(e.$t("validation.required",{attribute:"Role"})))},trigger:["blur","change"]}]}},permissionRules:function(){var e=this;return{name:[{validator:function(t,n,i){return n?e.permissions.some((function(t){return t.name===n&&t.id!==e.permissionId}))?i(new Error("Permission exist!")):void i():i(new Error(e.$t("validation.required",{attribute:"Permission"})))},trigger:["blur","change"]}]}}},methods:{checkPermission:g.a,checkRole:v,getRoutes:function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e=k.a.concat(k.b),this.routes=this.generateRoutes(e);case 2:case"end":return t.stop()}}),null,this)},generateRoutes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var u=s.value;if(!u.hidden){var c=this.onlyOneShowingChild(u.children,u);u.children&&c&&!u.alwaysShow&&(u=c);var m={path:l.a.resolve(t,u.path),name:u.meta&&u.meta.title};u.children&&(m.children=this.generateRoutes(u.children,m.path)),n.push(m)}}}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n},getRoles:function(){var e=this;this.loading=!0,C.list().then((function(t){e.roles=t.data.data,e.loading=!1}))},getPermissions:function(){var e=this;this.loadingPermission=!0,$.list(this.query).then((function(t){var n=t.data.data,i=e.classifyPermissions(n),r=i.all,o=i.menu,s=i.other;e.total=t.data.meta.total,e.permissions=r,e.menuPermissions=o,e.otherPermissions=s,e.loadingPermission=!1}))},classifyPermissions:function(e){var t=this,n=[],i=[],r=[];return e.forEach((function(e){var o=e.name;n.push(e),o.startsWith("view menu")?i.push(t.normalizeMenuPermission(e)):r.push(t.normalizePermission(e))})),{all:n,menu:i,other:r}},normalizeMenuPermission:function(e){return{id:e.id,name:e.name.substring(10)}},normalizePermission:function(e){return{id:e.id,name:e.name,disabled:!v(["admin"])&&"manage permission"===e.name}},permissionKeys:function(e){return e.map((function(e){return e.id}))},permissionName:function(e){return e.map((function(e){return e.name}))},handleEditRolePermissions:function(e){var t=this;this.resetFormRole(),this.dialogUpdateRoleVisible=!0,this.currentRoleId=e,this.formRole=Object.assign({},this.currentRole),this.$nextTick((function(){t.$refs.menuPermissions.setCheckedKeys(t.permissionName(t.roleMenuPermissions)),t.$refs.otherPermissions.setCheckedKeys(t.permissionKeys(t.roleOtherPermissions))}))},updateRolePermission:function(e){var t=this,n={menu:this.$refs.menuPermissions.getCheckedKeys(),other:this.$refs.otherPermissions.getCheckedKeys()};this.$refs[e].validate((function(e){e&&C.update(t.currentRole.id,{permissions:n,role:t.formRole}).then((function(e){t.$message({message:"Role "+t.$t("messages.update"),type:"success",duration:5e3}),t.dialogUpdateRoleVisible=!1,t.getRoles(),t.getPermissions()}))}))},showCreateRole:function(){this.resetFormRole(),this.dialogCreateRoleVisible=!0},createRole:function(e){var t=this;this.$refs[e].validate((function(n){n&&C.store(t.formRole).then((function(n){var i=n.data.data;t.roles.push(i),t.$notify({title:t.$t("messages.update"),dangerouslyUseHTMLString:!0,message:"\n                <div>Role name: ".concat(t.formRole.name,"</div>\n                <div>Description: ").concat(t.formRole.description,"</div>\n              "),type:"success"}),t.$refs[e].resetFields()}))}))},handleDeleteRole:function(e,t){var n=this;this.$confirm(this.$t("messages.delete_confirm",{attribute:"[".concat(t,"]")}),this.$t("messages.warning"),{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){C.destroy(e).then((function(t){var i=n.roles.findIndex((function(t){return t.id===e}));n.roles.splice(i,1),n.$notify({title:"Success",message:n.$t("messages.delete"),type:"success"})}))}))},showCreatePermission:function(){this.dialogCreatePermissionVisible=!0,this.permissionId=0,this.resetFormPermission()},createPermission:function(e){var t=this;this.$refs[e].validate((function(n){n&&$.store(t.formPermission).then((function(){t.$notify({title:t.$t("messages.update"),dangerouslyUseHTMLString:!0,message:"\n                <div>Role name: ".concat(t.formPermission.name,"</div>\n                <div>Description: ").concat(t.formPermission.description,"</div>\n              "),type:"success"}),t.getPermissions(),t.$refs[e].resetFields()}))}))},handleDeletePermission:function(e,t){var n=this;this.$confirm(this.$t("messages.delete_confirm",{attribute:"[".concat(t,"]")}),this.$t("messages.warning"),{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){$.destroy(e).then((function(){n.$notify({title:"Success",message:n.$t("messages.delete"),type:"success"}),n.getPermissions()}))}))},handleEditPermissions:function(e){this.permissionId=e,this.dialogCreatePermissionVisible=!0;var t=this.permissions.find((function(t){return t.id===e}));this.formPermission=Object.assign({},t)},updatePermission:function(e){var t=this;this.$refs[e].validate((function(e){e&&$.update(t.permissionId,t.formPermission).then((function(){t.$message({message:"Permissions "+t.$t("messages.update"),type:"success",duration:5e3}),t.dialogCreatePermissionVisible=!1,t.getPermissions()}))}))},onlyOneShowingChild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=null,i=e.filter((function(e){return!e.hidden}));return 1===i.length?((n=i[0]).path=l.a.resolve(t.path,n.path),n):0===i.length&&(n=x({},t,{path:"",noShowingChildren:!0}))},resetFormRole:function(){this.formRole={name:"",description:""}},resetFormPermission:function(){this.formPermission={name:"",description:""}}}},E=Object(w.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{span:24}},[n("el-card",[n("div",{attrs:{slot:"header"},slot:"header"},[n("h3",[e._v(e._s(e.$t("route.role_permission")))])]),e._v(" "),n("div",{staticClass:"text-right mb-8"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.showCreateRole()}}},[e._v("\n            Role\n          ")])],1),e._v(" "),n("div",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"highlight-current-row":"",fit:"",border:"",data:e.roles}},[n("el-table-column",{attrs:{type:"index",align:"center",label:e.$t("table.rolePermission.id"),width:"50px"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:e.$t("table.rolePermission.name")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n                "+e._s(n.name)+"\n              ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:e.$t("table.rolePermission.description")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n                "+e._s(n.description)+"\n              ")]}}])}),e._v(" "),e.checkPermission(["manage permission"])?n("el-table-column",{attrs:{align:"center",label:"Actions"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return["admin"===i.name&&e.checkRole(["admin"])?n("div",[n("el-button",{attrs:{type:"success",round:"",icon:"el-icon-view\n",size:"small"},on:{click:function(t){return e.handleEditRolePermissions(i.id)}}})],1):e._e(),e._v(" "),"admin"!==i.name?n("div",[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(t){return e.handleEditRolePermissions(i.id)}}},[e._v("\n                    Edit permission\n                  ")]),e._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(t){return e.handleDeleteRole(i.id,i.name)}}})],1):e._e()]}}],null,!1,1890503933)}):e._e()],1),e._v(" "),n("div",{staticClass:"my-8 text-right"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.showCreatePermission()}}},[e._v("Permission\n            ")])],1),e._v(" "),n("el-input",{staticClass:"filter-item w-64 mb-4",attrs:{placeholder:e.$t("table.rolePermission.name")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getPermissions(t)}},model:{value:e.query.keyword,callback:function(t){e.$set(e.query,"keyword",t)},expression:"query.keyword"}}),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"highlight-current-row":"",fit:"",border:"",data:e.permissions}},[n("el-table-column",{attrs:{type:"index",align:"center",label:e.$t("table.rolePermission.id"),width:"50px"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:e.$t("table.rolePermission.name")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n                "+e._s(n.name)+"\n              ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:e.$t("table.rolePermission.description")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n                "+e._s(n.description)+"\n              ")]}}])}),e._v(" "),e.checkPermission(["manage permission"])?n("el-table-column",{attrs:{align:"center",label:"Actions"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return"manage permission"!==i.name?[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(t){return e.handleEditPermissions(i.id)}}}),e._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(t){return e.handleDeletePermission(i.id,i.name)}}})]:void 0}}],null,!0)}):e._e()],1),e._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.query.page,limit:e.query.limit},on:{"update:page":function(t){return e.$set(e.query,"page",t)},"update:limit":function(t){return e.$set(e.query,"limit",t)},pagination:e.getPermissions}}),e._v(" "),n("el-dialog",{attrs:{title:"["+e.currentRole.name+"] Edit Permission",visible:e.dialogUpdateRoleVisible,center:""},on:{"update:visible":function(t){e.dialogUpdateRoleVisible=t}}},[n("div",[n("el-form",{ref:"formRole",attrs:{model:e.formRole,rules:e.roleRules,"label-width":"110px","label-position":"left"}},[n("el-form-item",{attrs:{required:"",label:"Role name",prop:"name"}},[n("el-input",{attrs:{autofocus:""},model:{value:e.formRole.name,callback:function(t){e.$set(e.formRole,"name",t)},expression:"formRole.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Description",prop:"description"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.formRole.description,callback:function(t){e.$set(e.formRole,"description",t)},expression:"formRole.description"}})],1)],1)],1),e._v(" "),n("div",{staticClass:"flex justify-between items-start"},[n("el-form",{staticClass:"w-6/12",attrs:{model:e.currentRole,"label-width":"80px","label-position":"top"}},[n("el-form-item",{attrs:{label:"Menus"}},[n("el-tree",{ref:"menuPermissions",staticClass:"permission-tree",attrs:{data:e.routesData,props:e.permissionProps,"default-checked-keys":e.permissionName(e.roleMenuPermissions),"show-checkbox":"","node-key":"name"}})],1)],1),e._v(" "),n("el-form",{staticClass:"w-6/12",attrs:{model:e.currentRole,"label-width":"80px","label-position":"top"}},[n("el-form-item",{attrs:{label:"Permissions"}},[n("el-tree",{ref:"otherPermissions",staticClass:"permission-tree",attrs:{data:e.otherPermissions,"default-checked-keys":e.permissionKeys(e.roleOtherPermissions),props:e.permissionProps,"show-checkbox":"","node-key":"id"}})],1)],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogUpdateRoleVisible=!1}}},[e._v("Cancel")]),e._v(" "),"admin"!==e.currentRole.name?n("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:function(t){return e.updateRolePermission("formRole")}}},[e._v(e._s(e.$t("button.update")))]):e._e()],1)]),e._v(" "),n("el-dialog",{attrs:{title:"Create role",visible:e.dialogCreateRoleVisible,center:""},on:{"update:visible":function(t){e.dialogCreateRoleVisible=t}}},[n("div",{staticClass:"flex justify-between items-start"},[n("el-form",{ref:"formRole",attrs:{model:e.formRole,rules:e.roleRules,"label-width":"110px","label-position":"left"}},[n("el-form-item",{attrs:{required:"",label:"Role name",error:e.errors.name?e.errors.name[0]:"",prop:"name"}},[n("el-input",{attrs:{autofocus:"",placeholder:"Ex: admin"},model:{value:e.formRole.name,callback:function(t){e.$set(e.formRole,"name",t)},expression:"formRole.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Description",prop:"description"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.formRole.description,callback:function(t){e.$set(e.formRole,"description",t)},expression:"formRole.description"}})],1)],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogCreateRoleVisible=!1}}},[e._v("Cancel")]),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.createRole("formRole")}}},[e._v(e._s(e.$t("button.create")))])],1)]),e._v(" "),n("el-dialog",{attrs:{title:"Create permission",visible:e.dialogCreatePermissionVisible,center:""},on:{"update:visible":function(t){e.dialogCreatePermissionVisible=t}}},[n("div",[n("el-form",{ref:"formPermission",attrs:{model:e.formPermission,rules:e.permissionRules,"label-width":"110px","label-position":"left"}},[n("el-form-item",{attrs:{required:"",label:"Permission",error:e.errors.name?e.errors.name[0]:"",prop:"name"}},[n("el-input",{attrs:{autofocus:"",placeholder:"Ex: role_permission"},model:{value:e.formPermission.name,callback:function(t){e.$set(e.formPermission,"name",t)},expression:"formPermission.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Description",prop:"description"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.formPermission.description,callback:function(t){e.$set(e.formPermission,"description",t)},expression:"formPermission.description"}})],1)],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogCreatePermissionVisible=!1}}},[e._v("Cancel")]),e._v(" "),0==+e.permissionId?n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.createPermission("formPermission")}}},[e._v(e._s(e.$t("button.create")))]):n("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:function(t){return e.updatePermission("formPermission")}}},[e._v(e._s(e.$t("button.update")))])],1)])],1)])],1)],1)}),[],!1,null,null,null);t.default=E.exports},ABMA:function(e,t,n){var i=n("cJ6E");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(e.exports=i.locals)},B5cj:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("lwsE"),r=n.n(i),o=n("a1gu"),s=n.n(o),a=n("Nsbk"),l=n.n(a),u=n("7W2i"),c=n.n(u),m=function(e){function t(){return r()(this,t),s()(this,l()(t).call(this,"roles"))}return c()(t,e),t}(n("+Awk").a)},GczY:function(e,t,n){"use strict";var i=n("g6NE"),r={inserted:function(e,t,n){var r=t.value,o=i.a.getters&&i.a.getters.permissions;if(!(r&&r instanceof Array&&r.length>0))throw new Error("Permissions are required! Example: v-permission=\"['manage user','manage permission']\"");var s=r;o.some((function(e){return s.includes(e)}))||e.parentNode&&e.parentNode.removeChild(e)}},o=function(e){e.directive("permission",r)};window.Vue&&(window.permission=r,Vue.use(o)),r.install=o;t.a=r},NLxG:function(e,t,n){"use strict";var i=n("ABMA");n.n(i).a},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},OuqF:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("g6NE");function r(e){if(e&&e instanceof Array&&e.length>0){var t=i.a.getters&&i.a.getters.permissions,n=e;return t.some((function(e){return n.includes(e)}))}return console.error("Need permissions! Like v-permission=\"['manage permission','edit article']\""),!1}},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},SksO:function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,i)}e.exports=n},W8MJ:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},a1gu:function(e,t,n){var i=n("cDf5"),r=n("PJYZ");e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?r(e):t}},cJ6E:function(e,t,n){(e.exports=n("JPst")(!1)).push([e.i,"\n.pagination-container[data-v-08a16ad7] {\n  background: #fff;\n  padding: 32px 16px;\n}\n.pagination-container.hidden[data-v-08a16ad7] {\n  display: none;\n}\n",""])},lwsE:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}}]);