(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"+Iu4":function(t,e,n){"use strict";n.r(e);var i=n("RIqP"),r=n.n(i),a=n("lSNA"),s=n.n(a),o={name:"ScrollPane",data:function(){return{left:0}},computed:{scrollWrapper:function(){return this.$refs.scrollContainer.$refs.wrap}},methods:{handleScroll:function(t){var e=t.wheelDelta||40*-t.deltaY,n=this.scrollWrapper;n.scrollLeft=n.scrollLeft+e/4},moveToTarget:function(t){var e=this.$refs.scrollContainer.$el.offsetWidth,n=this.scrollWrapper,i=this.$parent.$refs.tag,r=null,a=null;if(i.length>0&&(r=i[0],a=i[i.length-1]),r===t)n.scrollLeft=0;else if(a===t)n.scrollLeft=n.scrollWidth-e;else{var s=i.findIndex((function(e){return e===t})),o=i[s-1],l=i[s+1],c=l.$el.offsetLeft+l.$el.offsetWidth+4,f=o.$el.offsetLeft-4;c>n.scrollLeft+e?n.scrollLeft=c-e:f<n.scrollLeft&&(n.scrollLeft=f)}}}},l=(n("zGjN"),n("KHd+")),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-scrollbar",{ref:"scrollContainer",staticClass:"scroll-container",attrs:{vertical:!1},nativeOn:{wheel:function(e){return e.preventDefault(),t.handleScroll(e)}}},[t._t("default")],2)}),[],!1,null,"3946e138",null).exports,f=n("tHMA"),u=n("33yf"),p=n.n(u);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v={components:{ScrollPane:c},data:function(){return{visible:!1,top:0,left:0,selectedTag:{},affixTags:[]}},computed:{visitedViews:function(){return this.$store.state.tagsView.visitedViews.filter((function(t){if(!t.meta.tagsView)return t}))},routes:function(){return this.$store.state.permission.routers}},watch:{$route:function(){this.addTags(),this.moveToCurrentTag()},visible:function(t){t?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.initTags(),this.addTags()},methods:{generateTitleHaveId:f.b,isActive:function(t){return t.path===this.$route.path},filterAffixTags:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=[];return t.forEach((function(t){if(t.meta&&t.meta.affix){var a=p.a.resolve(n,t.path);i.push({fullPath:a,path:a,name:t.name,meta:d({},t.meta)})}if(t.children){var s=e.filterAffixTags(t.children,t.path);s.length>=1&&(i=[].concat(r()(i),r()(s)))}})),i},initTags:function(){var t=this.affixTags=this.filterAffixTags(this.routes),e=!0,n=!1,i=void 0;try{for(var r,a=t[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var s=r.value;s.name&&this.$store.dispatch("tagsView/addVisitedView",s)}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}},addTags:function(){return this.$route.name&&this.$store.dispatch("tagsView/addView",this.$route),!1},moveToCurrentTag:function(){var t=this,e=this.$refs.tag;this.$nextTick((function(){var n=!0,i=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;if(o.to.path===t.$route.path){t.$refs.scrollPane.moveToTarget(o),o.to.fullPath!==t.$route.fullPath&&t.$store.dispatch("tagsView/updateVisitedView",t.$route);break}}}catch(t){i=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}}))},refreshSelectedTag:function(t){var e=this;this.$store.dispatch("tagsView/delCachedView",t).then((function(){var n=t.fullPath;e.$nextTick((function(){e.$router.replace({path:"/redirect"+n})}))}))},closeSelectedTag:function(t){var e=this;this.$store.dispatch("tagsView/delView",t).then((function(n){var i=n.visitedViews;e.isActive(t)&&e.toLastView(i,t)}))},closeOthersTags:function(){var t=this;this.$router.push(this.selectedTag),this.$store.dispatch("tagsView/delOthersViews",this.selectedTag).then((function(){t.moveToCurrentTag()}))},closeAllTags:function(t){var e=this;this.$store.dispatch("tagsView/delAllViews").then((function(n){var i=n.visitedViews;e.affixTags.some((function(e){return e.path===t.path}))||e.toLastView(i,t)}))},toLastView:function(t,e){var n=t.slice(-1)[0];n?this.$router.push(n):"Dashboard"===e.name?this.$router.replace({path:"/redirect"+e.fullPath}):this.$router.push("/")},openMenu:function(t,e){var n=this.$el.getBoundingClientRect().left,i=this.$el.offsetWidth-105,r=e.clientX-n+15;this.left=r>i?i:r,this.top=e.clientY,this.visible=!0,this.selectedTag=t},closeMenu:function(){this.visible=!1}}},g=(n("DkgH"),n("5I69"),Object(l.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tags-view-container",attrs:{id:"tags-view-container"}},[n("scroll-pane",{ref:"scrollPane",staticClass:"tags-view-wrapper"},t._l(t.visitedViews,(function(e){return n("router-link",{key:e.path,ref:"tag",refInFor:!0,staticClass:"tags-view-item",attrs:{to:{path:e.path,query:e.query,fullPath:e.fullPath},tag:"span",exact:""},nativeOn:{mouseup:function(n){return"button"in n&&1!==n.button?null:t.closeSelectedTag(e)},contextmenu:function(n){return n.preventDefault(),t.openMenu(e,n)}}},[t._v("\n      "+t._s(t.generateTitleHaveId(e))+"\n      "),e.meta.affix?t._e():n("span",{staticClass:"el-icon-close",on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.closeSelectedTag(e)}}})])})),1),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:t.left+"px",top:t.top+"px"}},[n("li",{on:{click:function(e){return t.refreshSelectedTag(t.selectedTag)}}},[t._v(t._s(t.$t("tagsView.refresh")))]),t._v(" "),t.selectedTag.meta&&t.selectedTag.meta.affix?t._e():n("li",{on:{click:function(e){return t.closeSelectedTag(t.selectedTag)}}},[t._v(t._s(t.$t("tagsView.close"))+"\n    ")]),t._v(" "),n("li",{on:{click:t.closeOthersTags}},[t._v(t._s(t.$t("tagsView.closeOthers")))]),t._v(" "),n("li",{on:{click:function(e){return t.closeAllTags(t.selectedTag)}}},[t._v(t._s(t.$t("tagsView.closeAll")))])])],1)}),[],!1,null,"6a9c57f2",null));e.default=g.exports},"5I69":function(t,e,n){"use strict";var i=n("MDMt");n.n(i).a},DkgH:function(t,e,n){"use strict";var i=n("KpSm");n.n(i).a},"FE/o":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".scroll-container[data-v-3946e138] {\n  white-space: nowrap;\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n}\n.scroll-container[data-v-3946e138]  .el-scrollbar__bar {\n  bottom: 0px;\n}\n.scroll-container[data-v-3946e138]  .el-scrollbar__wrap {\n  height: 49px;\n}",""])},KpSm:function(t,e,n){var i=n("svO6");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(t.exports=i.locals)},MDMt:function(t,e,n){var i=n("WPAK");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(t.exports=i.locals)},WPAK:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".tags-view-wrapper .tags-view-item .el-icon-close {\n  width: 16px;\n  height: 16px;\n  vertical-align: 2px;\n  border-radius: 50%;\n  text-align: center;\n  transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n  transform-origin: 100% 50%;\n}\n.tags-view-wrapper .tags-view-item .el-icon-close:before {\n  transform: scale(0.6);\n  display: inline-block;\n  vertical-align: -3px;\n}\n.tags-view-wrapper .tags-view-item .el-icon-close:hover {\n  background-color: #b4bccc;\n  color: #fff;\n}",""])},iRH2:function(t,e,n){var i=n("FE/o");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(t.exports=i.locals)},svO6:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'.tags-view-container[data-v-6a9c57f2] {\n  height: 34px;\n  width: 100%;\n  background: #fff;\n  border-bottom: 1px solid #d8dce5;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12), 0 0 3px 0 rgba(0, 0, 0, 0.04);\n}\n.tags-view-container .tags-view-wrapper .tags-view-item[data-v-6a9c57f2] {\n  display: inline-block;\n  position: relative;\n  cursor: pointer;\n  height: 26px;\n  line-height: 26px;\n  border: 1px solid #d8dce5;\n  color: #495060;\n  background: #fff;\n  padding: 0 8px;\n  font-size: 12px;\n  margin-left: 5px;\n  margin-top: 4px;\n}\n.tags-view-container .tags-view-wrapper .tags-view-item[data-v-6a9c57f2]:first-of-type {\n  margin-left: 15px;\n}\n.tags-view-container .tags-view-wrapper .tags-view-item[data-v-6a9c57f2]:last-of-type {\n  margin-right: 15px;\n}\n.tags-view-container .tags-view-wrapper .tags-view-item.active[data-v-6a9c57f2] {\n  background-color: #42b983;\n  color: #fff;\n  border-color: #42b983;\n}\n.tags-view-container .tags-view-wrapper .tags-view-item.active[data-v-6a9c57f2]::before {\n  content: "";\n  background: #fff;\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  position: relative;\n  margin-right: 2px;\n}\n.tags-view-container .contextmenu[data-v-6a9c57f2] {\n  margin: 0;\n  background: #fff;\n  z-index: 3000;\n  position: absolute;\n  list-style-type: none;\n  padding: 5px 0;\n  border-radius: 4px;\n  font-size: 12px;\n  font-weight: 400;\n  color: #333;\n  box-shadow: 2px 2px 3px 0 rgba(0, 0, 0, 0.3);\n}\n.tags-view-container .contextmenu li[data-v-6a9c57f2] {\n  margin: 0;\n  padding: 7px 16px;\n  cursor: pointer;\n}\n.tags-view-container .contextmenu li[data-v-6a9c57f2]:hover {\n  background: #eee;\n}',""])},zGjN:function(t,e,n){"use strict";var i=n("iRH2");n.n(i).a}}]);