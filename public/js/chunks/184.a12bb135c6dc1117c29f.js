(self.webpackChunk=self.webpackChunk||[]).push([[184],{895:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});r(34553);const n={name:"ScrollPane",data:function(){return{left:0}},computed:{scrollWrapper:function(){return this.$refs.scrollContainer.$refs.wrap}},methods:{handleScroll:function(t){var e=t.wheelDelta||40*-t.deltaY,r=this.scrollWrapper;r.scrollLeft=r.scrollLeft+e/4},moveToTarget:function(t){var e=this.$refs.scrollContainer.$el.offsetWidth,r=this.scrollWrapper,n=this.$parent.$refs.tag,i=null,a=null;if(n.length>0&&(i=n[0],a=n[n.length-1]),i===t)r.scrollLeft=0;else if(a===t)r.scrollLeft=r.scrollWidth-e;else{var s=n.findIndex((function(e){return e===t})),o=n[s-1],l=n[s+1],c=l.$el.offsetLeft+l.$el.offsetWidth+4,f=o.$el.offsetLeft-4;c>r.scrollLeft+e?r.scrollLeft=c-e:f<r.scrollLeft&&(r.scrollLeft=f)}}}}},51119:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>h});r(47941),r(82526),r(38880),r(49337),r(33321),r(69070),r(41539),r(91038),r(78783),r(41817),r(32165),r(66992),r(33948),r(79753);var n=r(78927),i=r(96156),a=(r(57327),r(89554),r(54747),r(68309),r(92222),r(74916),r(15306),r(5212),r(47042),r(11344)),s=r(87439),o=r(26470),l=r.n(o);function c(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){o=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw a}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){(0,i.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const h={components:{ScrollPane:a.default},data:function(){return{visible:!1,top:0,left:0,selectedTag:{},affixTags:[]}},computed:{visitedViews:function(){return this.$store.state.tagsView.visitedViews.filter((function(t){if(!t.meta.tagsView)return t}))},routes:function(){return this.$store.state.permission.routers}},watch:{$route:function(){this.addTags(),this.moveToCurrentTag()},visible:function(t){t?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.initTags(),this.addTags()},methods:{generateTitleHaveId:s.generateTitleHaveId,isActive:function(t){return t.path===this.$route.path},filterAffixTags:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=[];return t.forEach((function(t){if(t.meta&&t.meta.affix){var a=l().resolve(r,t.path);i.push({fullPath:a,path:a,name:t.name,meta:d({},t.meta)})}if(t.children){var s=e.filterAffixTags(t.children,t.path);s.length>=1&&(i=[].concat((0,n.default)(i),(0,n.default)(s)))}})),i},initTags:function(){var t,e=c(this.affixTags=this.filterAffixTags(this.routes));try{for(e.s();!(t=e.n()).done;){var r=t.value;r.name&&this.$store.dispatch("tagsView/addVisitedView",r)}}catch(t){e.e(t)}finally{e.f()}},addTags:function(){return this.$route.name&&this.$store.dispatch("tagsView/addView",this.$route),!1},moveToCurrentTag:function(){var t=this,e=this.$refs.tag;this.$nextTick((function(){var r,n=c(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.to.path===t.$route.path){t.$refs.scrollPane.moveToTarget(i),i.to.fullPath!==t.$route.fullPath&&t.$store.dispatch("tagsView/updateVisitedView",t.$route);break}}}catch(t){n.e(t)}finally{n.f()}}))},refreshSelectedTag:function(t){var e=this;this.$store.dispatch("tagsView/delCachedView",t).then((function(){var r=t.fullPath;e.$nextTick((function(){e.$router.replace({path:"/redirect"+r})}))}))},closeSelectedTag:function(t){var e=this;this.$store.dispatch("tagsView/delView",t).then((function(r){var n=r.visitedViews;e.isActive(t)&&e.toLastView(n,t)}))},closeOthersTags:function(){var t=this;this.$router.push(this.selectedTag),this.$store.dispatch("tagsView/delOthersViews",this.selectedTag).then((function(){t.moveToCurrentTag()}))},closeAllTags:function(t){var e=this;this.$store.dispatch("tagsView/delAllViews").then((function(r){var n=r.visitedViews;e.affixTags.some((function(e){return e.path===t.path}))||e.toLastView(n,t)}))},toLastView:function(t,e){var r=t.slice(-1)[0];r?this.$router.push(r):"Dashboard"===e.name?this.$router.replace({path:"/redirect"+e.fullPath}):this.$router.push(this.$store.state.settings.redirect)},openMenu:function(t,e){var r=this.$el.getBoundingClientRect().left,n=this.$el.offsetWidth-105,i=e.clientX-r+15;this.left=i>n?n:i,this.top=e.clientY,this.visible=!0,this.selectedTag=t},closeMenu:function(){this.visible=!1}}}},34553:(t,e,r)=>{"use strict";var n=r(82109),i=r(42092).findIndex,a=r(51223),s="findIndex",o=!0;s in[]&&Array(1).findIndex((function(){o=!1})),n({target:"Array",proto:!0,forced:o},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a(s)},91875:(t,e,r)=>{(e=r(23645)(!1)).push([t.id,".scroll-container[data-v-6040dc50]{overflow:hidden;position:relative;white-space:nowrap;width:100%}.scroll-container[data-v-6040dc50]  .el-scrollbar__bar{bottom:0}.scroll-container[data-v-6040dc50]  .el-scrollbar__wrap{height:49px}",""]),t.exports=e},69642:(t,e,r)=>{(e=r(23645)(!1)).push([t.id,'.tags-view-container[data-v-485d1983]{background:#fff;border-bottom:1px solid #d8dce5;box-shadow:0 1px 3px 0 rgba(0,0,0,.12),0 0 3px 0 rgba(0,0,0,.04);height:34px;width:100%}.tags-view-container .tags-view-wrapper .tags-view-item[data-v-485d1983]{background:#fff;border:1px solid #d8dce5;color:#495060;cursor:pointer;display:inline-block;font-size:12px;height:26px;line-height:26px;margin-left:5px;margin-top:4px;padding:0 8px;position:relative}.tags-view-container .tags-view-wrapper .tags-view-item[data-v-485d1983]:first-of-type{margin-left:15px}.tags-view-container .tags-view-wrapper .tags-view-item[data-v-485d1983]:last-of-type{margin-right:15px}.tags-view-container .tags-view-wrapper .tags-view-item.active[data-v-485d1983]{background-color:#42b983;border-color:#42b983;color:#fff}.tags-view-container .tags-view-wrapper .tags-view-item.active[data-v-485d1983]:before{background:#fff;border-radius:50%;content:"";display:inline-block;height:8px;margin-right:2px;position:relative;width:8px}.tags-view-container .contextmenu[data-v-485d1983]{background:#fff;border-radius:4px;box-shadow:2px 2px 3px 0 rgba(0,0,0,.3);color:#333;font-size:12px;font-weight:400;list-style-type:none;margin:0;padding:5px 0;position:absolute;z-index:3000}.tags-view-container .contextmenu li[data-v-485d1983]{cursor:pointer;margin:0;padding:7px 16px}.tags-view-container .contextmenu li[data-v-485d1983]:hover{background:#eee}',""]),t.exports=e},7820:(t,e,r)=>{(e=r(23645)(!1)).push([t.id,".tags-view-wrapper .tags-view-item .el-icon-close{border-radius:50%;height:16px;text-align:center;transform-origin:100% 50%;transition:all .3s cubic-bezier(.645,.045,.355,1);vertical-align:2px;width:16px}.tags-view-wrapper .tags-view-item .el-icon-close:before{display:inline-block;transform:scale(.6);vertical-align:-3px}.tags-view-wrapper .tags-view-item .el-icon-close:hover{background-color:#b4bccc;color:#fff}",""]),t.exports=e},73030:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>b});var n=r(93379),i=r.n(n),a=r(7795),s=r.n(a),o=r(90569),l=r.n(o),c=r(3565),f=r.n(c),u=r(19216),d=r.n(u),h=r(44589),p=r.n(h),v=r(91875),g=r.n(v),w={};for(const t in v)"default"!==t&&(w[t]=()=>v[t]);r.d(e,w);var m={};m.styleTagTransform=p(),m.setAttributes=f(),m.insert=l().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=d();i()(g(),m);const b=g()&&g().locals?g().locals:void 0},61830:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>b});var n=r(93379),i=r.n(n),a=r(7795),s=r.n(a),o=r(90569),l=r.n(o),c=r(3565),f=r.n(c),u=r(19216),d=r.n(u),h=r(44589),p=r.n(h),v=r(69642),g=r.n(v),w={};for(const t in v)"default"!==t&&(w[t]=()=>v[t]);r.d(e,w);var m={};m.styleTagTransform=p(),m.setAttributes=f(),m.insert=l().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=d();i()(g(),m);const b=g()&&g().locals?g().locals:void 0},84141:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>b});var n=r(93379),i=r.n(n),a=r(7795),s=r.n(a),o=r(90569),l=r.n(o),c=r(3565),f=r.n(c),u=r(19216),d=r.n(u),h=r(44589),p=r.n(h),v=r(7820),g=r.n(v),w={};for(const t in v)"default"!==t&&(w[t]=()=>v[t]);r.d(e,w);var m={};m.styleTagTransform=p(),m.setAttributes=f(),m.insert=l().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=d();i()(g(),m);const b=g()&&g().locals?g().locals:void 0},11344:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>s});var n=r(26323),i=r(10109),a={};for(const t in i)"default"!==t&&(a[t]=()=>i[t]);r.d(e,a);r(69701);const s=(0,r(51900).default)(i.default,n.render,n.staticRenderFns,!1,null,"6040dc50",null).exports},77184:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>s});var n=r(99568),i=r(36896),a={};for(const t in i)"default"!==t&&(a[t]=()=>i[t]);r.d(e,a);r(89183),r(69650);const s=(0,r(51900).default)(i.default,n.render,n.staticRenderFns,!1,null,"485d1983",null).exports},10109:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>a});var n=r(895),i={};for(const t in n)"default"!==t&&(i[t]=()=>n[t]);r.d(e,i);const a=n.default},36896:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>a});var n=r(51119),i={};for(const t in n)"default"!==t&&(i[t]=()=>n[t]);r.d(e,i);const a=n.default},69701:(t,e,r)=>{"use strict";r.r(e);var n=r(73030),i={};for(const t in n)"default"!==t&&(i[t]=()=>n[t]);r.d(e,i)},89183:(t,e,r)=>{"use strict";r.r(e);var n=r(61830),i={};for(const t in n)"default"!==t&&(i[t]=()=>n[t]);r.d(e,i)},69650:(t,e,r)=>{"use strict";r.r(e);var n=r(84141),i={};for(const t in n)"default"!==t&&(i[t]=()=>n[t]);r.d(e,i)},26323:(t,e,r)=>{"use strict";r.r(e);var n=r(98933),i={};for(const t in n)"default"!==t&&(i[t]=()=>n[t]);r.d(e,i)},99568:(t,e,r)=>{"use strict";r.r(e);var n=r(30197),i={};for(const t in n)"default"!==t&&(i[t]=()=>n[t]);r.d(e,i)},98933:(t,e,r)=>{"use strict";r.r(e),r.d(e,{render:()=>n,staticRenderFns:()=>i});var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-scrollbar",{ref:"scrollContainer",staticClass:"scroll-container",attrs:{vertical:!1},nativeOn:{wheel:function(e){return e.preventDefault(),t.handleScroll.apply(null,arguments)}}},[t._t("default")],2)},i=[]},30197:(t,e,r)=>{"use strict";r.r(e),r.d(e,{render:()=>n,staticRenderFns:()=>i});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tags-view-container",attrs:{id:"tags-view-container"}},[r("scroll-pane",{ref:"scrollPane",staticClass:"tags-view-wrapper"},t._l(t.visitedViews,(function(e){return r("router-link",{key:e.path,ref:"tag",refInFor:!0,staticClass:"tags-view-item",attrs:{to:{path:e.path,query:e.query,fullPath:e.fullPath},exact:"",custom:""},nativeOn:{mouseup:function(r){return"button"in r&&1!==r.button?null:t.closeSelectedTag(e)},contextmenu:function(r){return r.preventDefault(),t.openMenu(e,r)}}},[t._v("\n      "+t._s(t.generateTitleHaveId(e))+"\n      "),e.meta.affix?t._e():r("span",{staticClass:"el-icon-close",on:{click:function(r){return r.preventDefault(),r.stopPropagation(),t.closeSelectedTag(e)}}})])})),1),t._v(" "),r("ul",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:t.left+"px",top:t.top+"px"}},[r("li",{on:{click:function(e){return t.refreshSelectedTag(t.selectedTag)}}},[t._v("\n      "+t._s(t.$t("tagsView.refresh"))+"\n    ")]),t._v(" "),t.selectedTag.meta&&t.selectedTag.meta.affix?t._e():r("li",{on:{click:function(e){return t.closeSelectedTag(t.selectedTag)}}},[t._v("\n      "+t._s(t.$t("tagsView.close"))+"\n    ")]),t._v(" "),r("li",{on:{click:t.closeOthersTags}},[t._v(t._s(t.$t("tagsView.closeOthers")))]),t._v(" "),r("li",{on:{click:function(e){return t.closeAllTags(t.selectedTag)}}},[t._v(t._s(t.$t("tagsView.closeAll")))])])],1)},i=[]}}]);