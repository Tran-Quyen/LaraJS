(self.webpackChunk=self.webpackChunk||[]).push([[918],{81506:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},34575:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},93913:t=>{function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}t.exports=function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}},29754:t=>{function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e},2205:(t,e,n)=>{var a=n(99489);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}},78585:(t,e,n)=>{var a=n(50008),r=n(81506);t.exports=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?r(t):e}},99489:t=>{function e(n,a){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,a)}t.exports=e},76438:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});n(9653);var a=n(49938);const r={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:25},pageSizes:{type:Array,default:function(){return[10,25,50,100]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1},scrollTo:{type:Number,default:0}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&(0,a.scrollTo)(this.scrollTo,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&(0,a.scrollTo)(this.scrollTo,800)}}}},21942:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});n(34553),n(40561);var a=n(87757),r=n.n(a),i=(n(35666),n(48926)),s=n.n(i),l=n(33182),o=n(65651),u=n(41599),c=new(n(36279).default);const d={components:{Pagination:o.default},mixins:[l.default],data:function(){return{table:{listQuery:{search:"",limit:25,ascending:1,page:1,orderBy:"updated_at",updated_at:[]},list:null,total:0,loading:!1},avatarFail:n(33356).default}},watch:{"table.listQuery.search":(0,u.debounce)((function(){this.handleFilter()}),500)},created:function(){this.getList()},methods:{getList:function(){var t=this;return s()(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.table.loading=!0,e.next=3,c.list(t.table.listQuery);case 3:n=e.sent,a=n.data,t.table.list=a.data,t.table.total=a.count,t.table.loading=!1;case 8:case"end":return e.stop()}}),e)})))()},handleFilter:function(){this.table.listQuery.page=1,this.getList()},changeDateRangePicker:function(t){if(t){var e=this.parseTimeToTz(t[0]),n=this.parseTimeToTz(t[1]);this.table.listQuery.updated_at=[e,n]}else this.table.listQuery.updated_at=[];this.handleFilter()},sortChange:function(t){var e=t.prop,n=t.order;this.table.listQuery.orderBy=e,this.table.listQuery.ascending="ascending"===n?0:1,this.getList()},remove:function(t){var e=this;this.$confirm(this.$t("messages.delete_confirm",{attribute:this.$t("table.user.id")+"#"+t}),this.$t("messages.warning"),{confirmButtonText:this.$t("button.ok"),cancelButtonClass:this.$t("button.cancel"),type:"warning",center:!0}).then(s()(r().mark((function n(){var a;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.table.loading=!0,n.next=3,c.destroy(t);case 3:a=e.table.list.findIndex((function(e){return e.id===t})),e.table.list.splice(a,1),e.$message({showClose:!0,message:e.$t("messages.delete"),type:"success"}),e.table.loading=!1;case 7:case"end":return n.stop()}}),n)}))))},numericalOrder:function(t){var e=this.table.listQuery;return(e.page-1)*e.limit+t+1}}}},53200:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var a=n(34575),r=n.n(a),i=n(93913),s=n.n(i),l=n(58123),o=function(){function t(e){r()(this,t),this.uri=e}return s()(t,[{key:"list",value:function(t){return(0,l.default)({url:this.uri,method:"get",params:t})}},{key:"get",value:function(t){return(0,l.default)({url:this.uri+"/"+t,method:"get"})}},{key:"store",value:function(t){return(0,l.default)({url:this.uri,method:"post",data:t})}},{key:"update",value:function(t,e){return(0,l.default)({url:this.uri+"/"+t,method:"put",data:e})}},{key:"destroy",value:function(t){return(0,l.default)({url:this.uri+"/"+t,method:"delete"})}}]),t}()},36279:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});n(83710),n(41539),n(12419),n(39714);var a=n(34575),r=n.n(a),i=n(2205),s=n.n(i),l=n(78585),o=n.n(l),u=n(29754),c=n.n(u);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=c()(t);if(e){var r=c()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return o()(this,n)}}var f=function(t){s()(n,t);var e=d(n);function n(){return r()(this,n),e.call(this,"users")}return n}(n(53200).default)},49938:(t,e,n)=>{"use strict";n.r(e),n.d(e,{scrollTo:()=>r});n(32564);Math.easeInOutQuad=function(t,e,n,a){return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e};var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function r(t,e,n){var r=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,i=t-r,s=0;e=void 0===e?500:e;!function t(){s+=20;var l,o=Math.easeInOutQuad(s,r,i,e);l=o,document.documentElement.scrollTop=l,document.body.parentNode.scrollTop=l,document.body.scrollTop=l,s<e?a(t):n&&"function"==typeof n&&n()}()}},27065:(t,e,n)=>{"use strict";var a=n(13099),r=n(70111),i=[].slice,s={},l=function(t,e,n){if(!(e in s)){for(var a=[],r=0;r<e;r++)a[r]="a["+r+"]";s[e]=Function("C,a","return new C("+a.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=a(this),n=i.call(arguments,1),s=function(){var a=n.concat(i.call(arguments));return this instanceof s?l(e,a.length,a):e.apply(t,a)};return r(e.prototype)&&(s.prototype=e.prototype),s}},34553:(t,e,n)=>{"use strict";var a=n(82109),r=n(42092).findIndex,i=n(51223),s=n(29207),l="findIndex",o=!0,u=s(l);l in[]&&Array(1).findIndex((function(){o=!1})),a({target:"Array",proto:!0,forced:o||!u},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(l)},12419:(t,e,n)=>{var a=n(82109),r=n(35005),i=n(13099),s=n(19670),l=n(70111),o=n(70030),u=n(27065),c=n(47293),d=r("Reflect","construct"),f=c((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),p=!c((function(){d((function(){}))})),g=f||p;a({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(t,e){i(t),s(e);var n=arguments.length<3?t:i(arguments[2]);if(p&&!f)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var a=[null];return a.push.apply(a,e),new(u.apply(t,a))}var r=n.prototype,c=o(l(r)?r:Object.prototype),g=Function.apply.call(t,c,e);return l(g)?g:c}})},62347:(t,e,n)=>{(e=n(23645)(!1)).push([t.id,".pagination-container[data-v-f0c38056]{background:#fff;padding:32px 16px}.pagination-container[data-v-f0c38056]  .el-input{width:120px}.pagination-container.hidden[data-v-f0c38056]{display:none}",""]),t.exports=e},33356:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});const a="/images/avatar-default.png?06ca3cbe708db63cb038e71f0642c648"},65186:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var a=n(93379),r=n.n(a),i=n(62347),s=n.n(i),l={insert:"head",singleton:!1};r()(s(),l);const o=s().locals||{}},65651:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var a=n(47412),r=n(56037),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);n.d(e,i);n(95897);const s=(0,n(51900).default)(r.default,a.render,a.staticRenderFns,!1,null,"f0c38056",null).exports},91625:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var a=n(92072),r=n(18434),i={};for(const t in r)"default"!==t&&(i[t]=()=>r[t]);n.d(e,i);const s=(0,n(51900).default)(r.default,a.render,a.staticRenderFns,!1,null,null,null).exports},56037:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var a=n(76438),r={};for(const t in a)"default"!==t&&(r[t]=()=>a[t]);n.d(e,r);const i=a.default},18434:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var a=n(21942),r={};for(const t in a)"default"!==t&&(r[t]=()=>a[t]);n.d(e,r);const i=a.default},95897:(t,e,n)=>{"use strict";n.r(e);var a=n(65186),r={};for(const t in a)"default"!==t&&(r[t]=()=>a[t]);n.d(e,r)},47412:(t,e,n)=>{"use strict";n.r(e);var a=n(73331),r={};for(const t in a)"default"!==t&&(r[t]=()=>a[t]);n.d(e,r)},92072:(t,e,n)=>{"use strict";n.r(e);var a=n(53527),r={};for(const t in a)"default"!==t&&(r[t]=()=>a[t]);n.d(e,r)},73331:(t,e,n)=>{"use strict";n.r(e),n.d(e,{render:()=>a,staticRenderFns:()=>r});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[n("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},r=[]},53527:(t,e,n)=>{"use strict";n.r(e),n.d(e,{render:()=>a,staticRenderFns:()=>r});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",[n("el-col",{attrs:{span:24}},[n("el-card",[n("div",{staticClass:"tw-flex tw-justify-end tw-items-center",attrs:{slot:"header"},slot:"header"},[n("router-link",{directives:[{name:"permission",rawName:"v-permission",value:["create"],expression:"['create']"}],staticClass:"pan-btn blue-btn",attrs:{to:{name:"user-create"},tag:"button"}},[n("i",{staticClass:"el-icon-plus mr-2"}),t._v("\n          "+t._s(t.$t("button.create"))+"\n        ")])],1),t._v(" "),n("div",{staticClass:"tw-flex tw-flex-col"},[n("el-col",{staticClass:"tw-mb-6",attrs:{span:24}},[n("el-col",{attrs:{xs:24,sm:10,md:6}},[n("label",[t._v(t._s(t.$t("table.texts.filter")))]),t._v(" "),n("el-input",{attrs:{placeholder:t.$t("table.texts.filterPlaceholder")},model:{value:t.table.listQuery.search,callback:function(e){t.$set(t.table.listQuery,"search",e)},expression:"table.listQuery.search"}})],1),t._v(" "),n("el-col",{attrs:{xs:24,sm:14,md:18}},[n("br"),t._v(" "),n("el-date-picker",{staticClass:"md:tw-float-right",attrs:{type:"daterange","start-placeholder":t.$t("date.start_date"),"end-placeholder":t.$t("date.end_date"),"picker-options":t.pickerOptions},on:{change:t.changeDateRangePicker},model:{value:t.table.listQuery.updated_at,callback:function(e){t.$set(t.table.listQuery,"updated_at",e)},expression:"table.listQuery.updated_at"}})],1)],1),t._v(" "),n("el-col",{staticClass:"table-responsive",attrs:{span:24}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.table.loading,expression:"table.loading"}],staticClass:"w-full",attrs:{data:t.table.list,"default-sort":{prop:"updated_at",order:"descending"},border:"",fit:"","highlight-current-row":""},on:{"sort-change":t.sortChange}},[n("el-table-column",{attrs:{align:"center",sortable:"custom",prop:"id",label:t.$t("table.user.id"),width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.$index;return[t._v("\n                "+t._s(t.numericalOrder(n))+"\n              ")]}}])}),t._v(" "),n("el-table-column",{attrs:{"data-generator":"name",align:"left","header-align":"center",label:t.$t("table.user.name")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v("\n                "+t._s(n.name)+"\n              ")]}}])}),t._v(" "),n("el-table-column",{attrs:{"data-generator":"email",align:"left","header-align":"center",label:t.$t("table.user.email")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v("\n                "+t._s(n.email)+"\n              ")]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:t.$t("table.user.avatar")},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-avatar",{attrs:{size:60,src:a.avatar}},[n("img",{attrs:{src:t.avatarFail}})])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:t.$t("table.user.role")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v("\n                "+t._s(n.roles[0].name)+"\n              ")]}}])}),t._v(" "),n("el-table-column",{attrs:{"data-generator":"updated_at",prop:"updated_at",label:t.$t("date.updated_at"),sortable:"custom",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v("\n                "+t._s(t._f("parseTime")(n.updated_at,"{y}-{m}-{d}"))+"\n              ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:t.$t("table.actions"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("router-link",{directives:[{name:"permission",rawName:"v-permission",value:["edit"],expression:"['edit']"}],attrs:{to:{name:"user-edit",params:{id:a.id}}}},[n("i",{staticClass:"el-icon-edit el-link el-link--primary mr-2"})]),t._v(" "),n("a",{directives:[{name:"permission",rawName:"v-permission",value:["delete"],expression:"['delete']"}],staticClass:"cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.remove(a.id)}}},[n("i",{staticClass:"el-icon-delete el-link el-link--danger"})])]}}])})],1),t._v(" "),t.table.total>0?n("pagination",{attrs:{total:t.table.total,page:t.table.listQuery.page,limit:t.table.listQuery.limit},on:{"update:page":function(e){return t.$set(t.table.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.table.listQuery,"limit",e)},pagination:t.getList}}):t._e()],1)],1)])],1)],1)},r=[]}}]);