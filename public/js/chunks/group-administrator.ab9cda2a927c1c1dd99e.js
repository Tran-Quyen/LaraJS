(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+Awk":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("lwsE"),r=n.n(a),i=n("W8MJ"),o=n.n(i),s=n("rywy"),l=function(){function e(t){r()(this,e),this.uri=t}return o()(e,[{key:"list",value:function(e){return Object(s.a)({url:this.uri,method:"get",params:e})}},{key:"get",value:function(e){return Object(s.a)({url:this.uri+"/"+e,method:"get"})}},{key:"store",value:function(e){return Object(s.a)({url:this.uri,method:"post",data:e})}},{key:"update",value:function(e,t){return Object(s.a)({url:this.uri+"/"+e,method:"put",data:t})}},{key:"destroy",value:function(e){return Object(s.a)({url:this.uri+"/"+e,method:"delete"})}}]),e}()},"/Q67":function(e,t,n){var a=n("18yc");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,r);a.locals&&(e.exports=a.locals)},"0i3a":function(e,t,n){"use strict";var a={props:{className:{type:String,default:""},text:{type:String,default:"vue-element-admin"}}},r=(n("76eg"),n("KHd+")),i=Object(r.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("a",{staticClass:"link--mallki",class:this.className,attrs:{href:"#"}},[this._v("\n  "+this._s(this.text)+"\n  "),t("span",{attrs:{"data-letters":this.text}}),this._v(" "),t("span",{attrs:{"data-letters":this.text}})])}),[],!1,null,null,null);t.a=i.exports},"18yc":function(e,t,n){(t=n("JPst")(!1)).push([e.i,"@charset \"UTF-8\";\n@-webkit-keyframes vicp_progress {\n0% {\n    background-position-y: 0;\n}\n100% {\n    background-position-y: 40px;\n}\n}\n@keyframes vicp_progress {\n0% {\n    background-position-y: 0;\n}\n100% {\n    background-position-y: 40px;\n}\n}\n@-webkit-keyframes vicp {\n0% {\n    opacity: 0;\n    transform: scale(0) translatey(-60px);\n}\n100% {\n    opacity: 1;\n    transform: scale(1) translatey(0);\n}\n}\n@keyframes vicp {\n0% {\n    opacity: 0;\n    transform: scale(0) translatey(-60px);\n}\n100% {\n    opacity: 1;\n    transform: scale(1) translatey(0);\n}\n}\n.vue-image-crop-upload {\n  position: fixed;\n  display: block;\n  box-sizing: border-box;\n  z-index: 10000;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.65);\n  -webkit-tap-highlight-color: transparent;\n  -moz-tap-highlight-color: transparent;\n}\n.vue-image-crop-upload .vicp-wrap {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\n  position: fixed;\n  display: block;\n  box-sizing: border-box;\n  z-index: 10000;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  width: 600px;\n  height: 330px;\n  padding: 25px;\n  background-color: #fff;\n  border-radius: 2px;\n  -webkit-animation: vicp 0.12s ease-in;\n  animation: vicp 0.12s ease-in;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-close {\n  position: absolute;\n  right: -30px;\n  top: -30px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4 {\n  position: relative;\n  display: block;\n  width: 30px;\n  height: 30px;\n  cursor: pointer;\n  transition: transform 0.18s;\n  transform: rotate(0);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::after,\n.vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::before {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\n  content: '';\n  position: absolute;\n  top: 12px;\n  left: 4px;\n  width: 20px;\n  height: 3px;\n  transform: rotate(45deg);\n  background-color: #fff;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::after {\n  transform: rotate(-45deg);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4:hover {\n  transform: rotate(90deg);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area {\n  position: relative;\n  box-sizing: border-box;\n  padding: 35px;\n  height: 170px;\n  background-color: rgba(0, 0, 0, 0.03);\n  text-align: center;\n  border: 1px dashed rgba(0, 0, 0, 0.08);\n  overflow: hidden;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 {\n  display: block;\n  margin: 0 auto 6px;\n  width: 42px;\n  height: 42px;\n  overflow: hidden;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step1\n  .vicp-drop-area\n  .vicp-icon1\n  .vicp-icon1-arrow {\n  display: block;\n  margin: 0 auto;\n  width: 0;\n  height: 0;\n  border-bottom: 14.7px solid rgba(0, 0, 0, 0.3);\n  border-left: 14.7px solid transparent;\n  border-right: 14.7px solid transparent;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step1\n  .vicp-drop-area\n  .vicp-icon1\n  .vicp-icon1-body {\n  display: block;\n  width: 12.6px;\n  height: 14.7px;\n  margin: 0 auto;\n  background-color: rgba(0, 0, 0, 0.3);\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step1\n  .vicp-drop-area\n  .vicp-icon1\n  .vicp-icon1-bottom {\n  box-sizing: border-box;\n  display: block;\n  height: 12.6px;\n  border: 6px solid rgba(0, 0, 0, 0.3);\n  border-top: stepne;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-hint {\n  display: block;\n  padding: 15px;\n  font-size: 14px;\n  color: #666;\n  line-height: 30px;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step1\n  .vicp-drop-area\n  .vicp-step-supported-hint {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 30px;\n  width: 100%;\n  height: 60px;\n  line-height: 30px;\n  background-color: #eee;\n  text-align: center;\n  color: #666;\n  font-size: 14px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area:hover {\n  cursor: pointer;\n  border-color: rgba(0, 0, 0, 0.1);\n  background-color: rgba(0, 0, 0, 0.05);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop {\n  overflow: hidden;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left {\n  float: left;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-img-container {\n  position: relative;\n  display: block;\n  width: 240px;\n  height: 180px;\n  background-color: #e5e5e0;\n  overflow: hidden;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-img-container\n  .vicp-img {\n  position: absolute;\n  display: block;\n  cursor: move;\n  -webkit-user-select: stepne;\n  -moz-user-select: stepne;\n  -ms-user-select: stepne;\n  user-select: stepne;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-img-container\n  .vicp-img-shade {\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\n  position: absolute;\n  background-color: rgba(241, 242, 243, 0.8);\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-img-container\n  .vicp-img-shade.vicp-img-shade-1 {\n  top: 0;\n  left: 0;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-img-container\n  .vicp-img-shade.vicp-img-shade-2 {\n  bottom: 0;\n  right: 0;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-rotate {\n  position: relative;\n  width: 240px;\n  height: 18px;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-rotate\n  i {\n  display: block;\n  width: 18px;\n  height: 18px;\n  border-radius: 100%;\n  line-height: 18px;\n  text-align: center;\n  font-size: 12px;\n  font-weight: bold;\n  background-color: rgba(0, 0, 0, 0.08);\n  color: #fff;\n  overflow: hidden;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-rotate\n  i:hover {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\n  cursor: pointer;\n  background-color: rgba(0, 0, 0, 0.14);\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-rotate\n  i:first-child {\n  float: left;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-rotate\n  i:last-child {\n  float: right;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range {\n  position: relative;\n  margin: 30px 0 10px 0;\n  width: 240px;\n  height: 18px;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  .vicp-icon5,\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  .vicp-icon6 {\n  position: absolute;\n  top: 0;\n  width: 18px;\n  height: 18px;\n  border-radius: 100%;\n  background-color: rgba(0, 0, 0, 0.08);\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  .vicp-icon5:hover,\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  .vicp-icon6:hover {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\n  cursor: pointer;\n  background-color: rgba(0, 0, 0, 0.14);\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  .vicp-icon5 {\n  left: 0;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  .vicp-icon5::before {\n  position: absolute;\n  content: '';\n  display: block;\n  left: 3px;\n  top: 8px;\n  width: 12px;\n  height: 2px;\n  background-color: #fff;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  .vicp-icon6 {\n  right: 0;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  .vicp-icon6::before {\n  position: absolute;\n  content: '';\n  display: block;\n  left: 3px;\n  top: 8px;\n  width: 12px;\n  height: 2px;\n  background-color: #fff;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  .vicp-icon6::after {\n  position: absolute;\n  content: '';\n  display: block;\n  top: 3px;\n  left: 8px;\n  width: 2px;\n  height: 12px;\n  background-color: #fff;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range'] {\n  display: block;\n  padding-top: 5px;\n  margin: 0 auto;\n  width: 180px;\n  height: 8px;\n  vertical-align: top;\n  background: transparent;\n  -webkit-appearance: stepne;\n  -moz-appearance: stepne;\n  appearance: stepne;\n  cursor: pointer;\n  /* Slider\n       ---------------------------------------------------------------*/\n  /* Track\n       ---------------------------------------------------------------*/\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']:focus {\n  outline: stepne;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']::-webkit-slider-thumb {\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\n  -webkit-appearance: stepne;\n  appearance: stepne;\n  margin-top: -3px;\n  width: 12px;\n  height: 12px;\n  background-color: #61c091;\n  border-radius: 100%;\n  border: stepne;\n  -webkit-transition: 0.2s;\n  transition: 0.2s;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']::-moz-range-thumb {\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\n  -moz-appearance: stepne;\n  appearance: stepne;\n  width: 12px;\n  height: 12px;\n  background-color: #61c091;\n  border-radius: 100%;\n  border: stepne;\n  -moz-transition: 0.2s;\n  transition: 0.2s;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']::-ms-thumb {\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\n  appearance: stepne;\n  width: 12px;\n  height: 12px;\n  background-color: #61c091;\n  border: stepne;\n  border-radius: 100%;\n  -ms-transition: 0.2s;\n  transition: 0.2s;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']:active::-moz-range-thumb {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\n  width: 14px;\n  height: 14px;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']:active::-ms-thumb {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\n  width: 14px;\n  height: 14px;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']:active::-webkit-slider-thumb {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\n  margin-top: -4px;\n  width: 14px;\n  height: 14px;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']::-webkit-slider-runnable-track {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\n  width: 100%;\n  height: 6px;\n  cursor: pointer;\n  border-radius: 2px;\n  border: stepne;\n  background-color: rgba(68, 170, 119, 0.3);\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']::-moz-range-track {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\n  width: 100%;\n  height: 6px;\n  cursor: pointer;\n  border-radius: 2px;\n  border: stepne;\n  background-color: rgba(68, 170, 119, 0.3);\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']::-ms-track {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\n  width: 100%;\n  cursor: pointer;\n  background: transparent;\n  border-color: transparent;\n  color: transparent;\n  height: 6px;\n  border-radius: 2px;\n  border: stepne;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']::-ms-fill-lower {\n  background-color: rgba(68, 170, 119, 0.3);\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']::-ms-fill-upper {\n  background-color: rgba(68, 170, 119, 0.15);\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']:focus::-webkit-slider-runnable-track {\n  background-color: rgba(68, 170, 119, 0.5);\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']:focus::-moz-range-track {\n  background-color: rgba(68, 170, 119, 0.5);\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']:focus::-ms-fill-lower {\n  background-color: rgba(68, 170, 119, 0.45);\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-left\n  .vicp-range\n  input[type='range']:focus::-ms-fill-upper {\n  background-color: rgba(68, 170, 119, 0.25);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right {\n  float: right;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-right\n  .vicp-preview {\n  height: 150px;\n  overflow: hidden;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-right\n  .vicp-preview\n  .vicp-preview-item {\n  position: relative;\n  padding: 5px;\n  width: 100px;\n  height: 100px;\n  float: left;\n  margin-right: 16px;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-right\n  .vicp-preview\n  .vicp-preview-item\n  span {\n  position: absolute;\n  bottom: -30px;\n  width: 100%;\n  font-size: 14px;\n  color: #bbb;\n  display: block;\n  text-align: center;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-right\n  .vicp-preview\n  .vicp-preview-item\n  img {\n  position: absolute;\n  display: block;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  padding: 3px;\n  background-color: #fff;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  overflow: hidden;\n  -webkit-user-select: stepne;\n  -moz-user-select: stepne;\n  -ms-user-select: stepne;\n  user-select: stepne;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-right\n  .vicp-preview\n  .vicp-preview-item.vicp-preview-item-circle {\n  margin-right: 0;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step2\n  .vicp-crop\n  .vicp-crop-right\n  .vicp-preview\n  .vicp-preview-item.vicp-preview-item-circle\n  img {\n  border-radius: 100%;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload {\n  position: relative;\n  box-sizing: border-box;\n  padding: 35px;\n  height: 170px;\n  background-color: rgba(0, 0, 0, 0.03);\n  text-align: center;\n  border: 1px dashed #ddd;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-loading {\n  display: block;\n  padding: 15px;\n  font-size: 16px;\n  color: #999;\n  line-height: 30px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap {\n  margin-top: 12px;\n  background-color: rgba(0, 0, 0, 0.08);\n  border-radius: 3px;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step3\n  .vicp-upload\n  .vicp-progress-wrap\n  .vicp-progress {\n  position: relative;\n  display: block;\n  height: 5px;\n  border-radius: 3px;\n  background-color: #4a7;\n  box-shadow: 0 2px 6px 0 rgba(68, 170, 119, 0.3);\n  transition: width 0.15s linear;\n  background-image: linear-gradient(\n    -45deg,\n    rgba(255, 255, 255, 0.2) 25%,\n    transparent 25%,\n    transparent 50%,\n    rgba(255, 255, 255, 0.2) 50%,\n    rgba(255, 255, 255, 0.2) 75%,\n    transparent 75%,\n    transparent\n  );\n  background-size: 40px 40px;\n  -webkit-animation: vicp_progress 0.5s linear infinite;\n  animation: vicp_progress 0.5s linear infinite;\n}\n.vue-image-crop-upload\n  .vicp-wrap\n  .vicp-step3\n  .vicp-upload\n  .vicp-progress-wrap\n  .vicp-progress::after {\n  content: '';\n  position: absolute;\n  display: block;\n  top: -3px;\n  right: -3px;\n  width: 9px;\n  height: 9px;\n  border: 1px solid rgba(245, 246, 247, 0.7);\n  box-shadow: 0 1px 4px 0 rgba(68, 170, 119, 0.7);\n  border-radius: 100%;\n  background-color: #4a7;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-error,\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-success {\n  height: 100px;\n  line-height: 100px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-operate {\n  position: absolute;\n  right: 20px;\n  bottom: 20px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-operate a {\n  position: relative;\n  float: left;\n  display: block;\n  margin-left: 10px;\n  width: 100px;\n  height: 36px;\n  line-height: 36px;\n  text-align: center;\n  cursor: pointer;\n  font-size: 14px;\n  color: #4a7;\n  border-radius: 2px;\n  overflow: hidden;\n  -webkit-user-select: stepne;\n  -moz-user-select: stepne;\n  -ms-user-select: stepne;\n  user-select: stepne;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-operate a:hover {\n  background-color: rgba(0, 0, 0, 0.03);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-error,\n.vue-image-crop-upload .vicp-wrap .vicp-success {\n  display: block;\n  font-size: 14px;\n  line-height: 24px;\n  height: 24px;\n  color: #d10;\n  text-align: center;\n  vertical-align: top;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-success {\n  color: #4a7;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-icon3 {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  top: 4px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-icon3::after {\n  position: absolute;\n  top: 3px;\n  left: 6px;\n  width: 6px;\n  height: 10px;\n  border-width: 0 2px 2px 0;\n  border-color: #4a7;\n  border-style: solid;\n  transform: rotate(45deg);\n  content: '';\n}\n.vue-image-crop-upload .vicp-wrap .vicp-icon2 {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  top: 4px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-icon2::after,\n.vue-image-crop-upload .vicp-wrap .vicp-icon2::before {\n  content: '';\n  position: absolute;\n  top: 9px;\n  left: 4px;\n  width: 13px;\n  height: 2px;\n  background-color: #d10;\n  transform: rotate(45deg);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-icon2::after {\n  transform: rotate(-45deg);\n}\n.e-ripple {\n  position: absolute;\n  border-radius: 100%;\n  background-color: rgba(0, 0, 0, 0.15);\n  background-clip: padding-box;\n  pointer-events: stepne;\n  -webkit-user-select: stepne;\n  -moz-user-select: stepne;\n  -ms-user-select: stepne;\n  user-select: stepne;\n  transform: scale(0);\n  opacity: 1;\n}\n.e-ripple.z-active {\n  opacity: 0;\n  transform: scale(2);\n  transition: opacity 1.2s ease-out, transform 0.6s ease-out;\n}\n",""]),e.exports=t},"1ERk":function(e,t,n){"use strict";n.r(t);n("pNMO"),n("4Brf"),n("0oug"),n("TeQF"),n("fbCW"),n("x0AG"),n("QWBl"),n("pjDv"),n("yq1k"),n("yXV3"),n("J30X"),n("4mDm"),n("2B1R"),n("+2oP"),n("Rfxz"),n("ToJy"),n("pDQq"),n("DQNa"),n("sMBO"),n("07d7"),n("5s+n"),n("rB9j"),n("JfAA"),n("JTJg"),n("PKPk"),n("hByQ"),n("FZtP"),n("3bBZ");var a=n("o0o1"),r=n.n(a),i=(n("ls82"),n("yXPU")),o=n.n(i),s=n("O48x"),l=n("LvDl"),c=n.n(l),p=n("t2rG"),d=n.n(p),u=n("0i3a"),m=(n("zKZe"),n("7sWw"),"@@wavesContext");function f(e,t){function n(n){var a=Object.assign({},t.value),r=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),i=r.ele;if(i){i.style.position="relative",i.style.overflow="hidden";var o=i.getBoundingClientRect(),s=i.querySelector(".waves-ripple");switch(s?s.className="waves-ripple":((s=document.createElement("span")).className="waves-ripple",s.style.height=s.style.width=Math.max(o.width,o.height)+"px",i.appendChild(s)),r.type){case"center":s.style.top=o.height/2-s.offsetHeight/2+"px",s.style.left=o.width/2-s.offsetWidth/2+"px";break;default:s.style.top=(n.pageY-o.top-s.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",s.style.left=(n.pageX-o.left-s.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return s.style.backgroundColor=r.color,s.className="waves-ripple z-active",!1}}return e[m]?e[m].removeHandle=n:e[m]={removeHandle:n},n}var v={bind:function(e,t){e.addEventListener("click",f(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[m].removeHandle,!1),e.addEventListener("click",f(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[m].removeHandle,!1),e[m]=null,delete e[m]}},h=function(e){e.directive("waves",v)};window.Vue&&(window.waves=v,Vue.use(h)),v.install=h;var g=v;function b(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var x=new s.a,_={components:{draggable:d.a,Mallki:u.a},directives:{waves:g},data:function(){return{form:[{id:1,field_name:"id",field_name_trans:"ID",db_type:"Increments",enum:[],length_varchar:191,default_value:"None",as_define:"",after_column:"",search:!1,sort:!0,show:!0,options:{comment:""}}],formModel:{name:"",name_trans:"",limit:25,options:[]},formRename:[],formDrop:[],formChange:[],formTemp:[],limits:[10,25,50,100,200],dbTypeDefault:["INT","VARCHAR","TEXT","DATE"],dbType:[{label:"Numeric",options:["INT","BIGINT","FLOAT","DOUBLE","BOOLEAN"]},{label:"Date and time",options:["DATE","DATETIME","TIMESTAMP","TIME","YEAR"]},{label:"String",options:["VARCHAR","TEXT","LONGTEXT","ENUM"]},{label:"JSON",options:["JSON"]}],defaultValue:["None","NULL","As define"],defaultValueNotAs:["None","NULL"],notAs:["TEXT","LONGTEXT","FILE"],afterColumn:[],notSearch:["FILE","JSON"],notSoft:["FILE","JSON"],loading:!1,redirectLocation:"/be/administrators/generator",dialogVisibleOptions:!1,idOptionsDB:0}},computed:{dynamicFieldsRules:function(){var e=this;return{field_name:[{validator:function(t,n,a){if(""===n)a(new Error(e.$t("validation.required",{attribute:e.$t("generator.field_name")})));else if(/[A-Z\s]/.test(n))a(new Error(e.$t("validation.regex",{attribute:e.$t("generator.field_name")})));else{var r,i=[],o=b(e.form);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s.field_name.toLowerCase()===n.toLowerCase()&&(i.push(s.id),i.length>1)){a(new Error(e.$t("generator.column_exist")));break}}}catch(e){o.e(e)}finally{o.f()}i.length<=1&&a()}},trigger:["change","blur"]}],field_name_trans:[{required:!0,message:this.$t("validation.required",{attribute:this.$t("generator.field_name_trans")}),trigger:["change","blur"]}],db_type:[{required:!0,message:this.$t("validation.required",{attribute:this.$t("generator.db_type")}),trigger:["change","blur"]}],enum:[{required:!0,message:this.$t("validation.required",{attribute:"Enum"}),trigger:["change","blur"]}],default_value:[{required:!0,message:this.$t("validation.required",{attribute:this.$t("generator.default_value")}),trigger:["change","blur"]}],as_define:[{required:!0,message:this.$t("validation.required",{attribute:this.$t("generator.as_define")}),trigger:["change","blur"]}]}},modalRules:function(){var e=this;return{name:[{validator:function(t,n,a){""===n?a(new Error(e.$t("validation.required",{attribute:e.$t("generator.form_model_name")}))):/[\s_]/.test(n)?a(new Error(e.$t("validation.regex",{attribute:e.$t("generator.form_model_name")}))):e.checkModelMethod(a)},trigger:["change"]}],name_trans:[{required:!0,message:this.$t("validation.required",{attribute:this.$t("generator.form_model_name_trans")}),trigger:["change","blur"]}]}},optionsComputed:function(){var e=this,t=this.form.find((function(t){return t.id===e.idOptionsDB}));return(null==t?void 0:t.options)||{}}},watch:{form:{handler:function(e){var t=this;this.formRename=[],this.formChange=[];var n=e.filter((function(e,n){if(t.formTemp[n])return e.field_name!==t.formTemp[n].field_name}));this.formChange=e.filter((function(e,n){if(t.formTemp[n])return!c.a.isEqual(e,t.formTemp[n])})),n.forEach((function(e){var n=t.formTemp.findIndex((function(t){return e.id===t.id}));t.formRename.push({field_name_new:e,field_name_old:t.formTemp[n]})})),this.form.forEach((function(e,n){t.afterColumn.forEach((function(a,r){isNaN(a.id)?t.formTemp[n]&&"temp-".concat(t.formTemp[n].field_name)===a.id&&(t.afterColumn[r].val=e.field_name):e.id===a.id&&(t.afterColumn[r].val=e.field_name)}))}))},deep:!0}},mounted:function(){var e=this;return o()(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.$route.params.id)){t.next=6;break}return t.next=4,x.get(n).then((function(t){var n=t.data.data;e.form=JSON.parse(n.field),e.formTemp=JSON.parse(n.field),e.formModel=JSON.parse(n.model)}));case 4:return t.next=6,x.getColumns(e.formModel.name).then((function(t){var n=t.data.data;e.afterColumn=n.map((function(e){return{id:"temp-".concat(e),val:e}}))}));case 6:case"end":return t.stop()}}),t)})))()},methods:{showDialogOptions:function(e){this.dialogVisibleOptions=!0,this.idOptionsDB=e},changeDBType:function(e,t){this.notAs.includes(t)&&(this.form[e].default_value="NULL",this.form[e].as_define=""),this.notSearch.includes(t)&&(this.form[e].search=!1),this.notSoft.includes(t)&&(this.form[e].sort=!1)},showInputDefault:function(e){return-1!==["YEAR","TIME","DATETIME","DATE","BOOLEAN","ENUM"].indexOf(e)},checkModelMethod:c.a.debounce((function(e){var t=this;x.checkModel(this.formModel.name).then((function(n){var a=n.data.message;1===a?e(new Error(t.$t("generator.table_exist"))):3===a?e(new Error(t.$t("validation.required",{attribute:t.$t("generator.form_model_name")}))):2===a&&e()}))}),500),checkColumnMethod:c.a.debounce((function(e,t){var n=this;x.checkColumn(this.formModel.name,t).then((function(t){var a=t.data.message;1===a?e(new Error(n.$t("generator.column_exist"))):3===a?e(new Error(n.$t("validation.required",{attribute:n.$t("generator.field_name")}))):2===a&&e()}))}),500),checkValidateFormModel:function(e){var t=this;return new Promise((function(n,a){t.$refs[e].validate((function(e){e?n():a()}))}))},generate:function(e,t){var n=this;return o()(r.a.mark((function a(){var i;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.loading=!0,i=!0,n.form.forEach((function(t,a){n.$refs[e+a][0].validate((function(e){e||(i=!1)}))})),a.next=5,n.checkValidateFormModel(t).catch((function(){i=!1}));case 5:i?x.store({model:n.formModel,fields:n.form}).then((function(){n.$message({showClose:!0,message:n.$t("messages.create"),type:"success"}),n.loading=!1})).catch((function(){n.loading=!1})):n.loading=!1;case 6:case"end":return a.stop()}}),a)})))()},generateUpdate:function(e){var t=this;return o()(r.a.mark((function n(){var a,i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.loading=!0,a=!0,t.form.forEach((function(n,r){t.$refs[e+r][0].validate((function(e){e||(a=!1)}))})),a?((i=c.a.cloneDeep(t.form)).splice(0,t.formTemp.length),x.update(t.$route.params.id,{model:t.formModel,fields:t.form,fields_update:i,rename:t.formRename,change:t.formChange,drop:t.formDrop}).then((function(){t.loading=!1,t.$message({showClose:!0,message:t.$t("messages.update"),type:"success"}),window.location.href=t.redirectLocation})).catch((function(){t.loading=!1}))):t.loading=!1;case 4:case"end":return n.stop()}}),n)})))()},disabledMethod:function(e){return 0===e},disabledModel:function(){return void 0!==this.$route.params.id},addField:function(){for(var e=1,t=0;t<this.form.length;t++)e=this.form[t].id+1;this.idOptionsDB=e,this.form.push({id:e,field_name:"",field_name_trans:"",db_type:"VARCHAR",enum:[],length_varchar:191,default_value:"NULL",as_define:"",after_column:"",search:!0,sort:!0,show:!0,options:{comment:""}}),this.afterColumn.push({id:e,val:""})},removeRow:function(e){var t=this;this.$confirm(this.$t("generator.confirm_remove_row"),"Warning",{confirmButtonText:this.$t("button.ok"),cancelButtonText:this.$t("button.cancel"),type:"warning"}).then((function(){t.$route.params.id&&t.formTemp[e]&&(t.formDrop.push(t.formTemp[e]),t.formTemp.splice(e,1));var n=t.form[e],a=t.afterColumn.findIndex((function(e){return e.val===n.field_name}));-1!==a&&t.afterColumn.splice(a,1),t.form.splice(e,1),t.$message({type:"success",message:t.$t("messages.success")})})).catch((function(){}))},changeShow:function(e){this.form[e].show?(this.form[e].sort=!1,this.form[e].search=!1):(this.form[e].sort=!0,this.form[e].search=!0)},disableAfterColumn:function(e){var t=c.a.cloneDeep(this.form);return t.splice(0,this.formTemp.length),t.some((function(t){return t.id===e}))},disableTrans:function(e){return this.formTemp.some((function(t){return t.id===e}))}}},y=(n("cvm0"),n("9rth"),n("KHd+")),k=Object(y.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{span:24}},[n("el-card",[n("div",{attrs:{slot:"header"},slot:"header"},[n("h1",{staticClass:"tw-text-4xl"},[n("mallki",{attrs:{"class-name":"mallki-text",text:e.$t("route.generator")}})],1)]),e._v(" "),n("section",{staticClass:"content-wrapper"},[n("div",{staticClass:"container tw-is-fullhd"},[n("div",[n("el-form",{ref:"formModel",attrs:{model:e.formModel,rules:e.modalRules,"label-position":"top"}},[n("el-col",{staticClass:"tw-mr-4",attrs:{span:9}},[n("el-form-item",{attrs:{label:e.$t("generator.form_model_name"),prop:"name"}},[n("el-input",{attrs:{placeholder:e.$t("generator.form_model_name"),disabled:e.disabledModel()},model:{value:e.formModel.name,callback:function(t){e.$set(e.formModel,"name",t)},expression:"formModel.name"}})],1)],1),e._v(" "),n("el-col",{staticClass:"tw-mr-4",attrs:{span:9}},[n("el-form-item",{attrs:{label:e.$t("generator.form_model_name_trans"),prop:"name_trans"}},[n("el-input",{attrs:{placeholder:e.$t("generator.form_model_name_trans"),disabled:e.disabledModel()},model:{value:e.formModel.name_trans,callback:function(t){e.$set(e.formModel,"name_trans",t)},expression:"formModel.name_trans"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:2}},[n("el-form-item",{attrs:{label:e.$t("generator.limit")}},[n("el-select",{attrs:{placeholder:e.$t("generator.limit"),disabled:""},model:{value:e.formModel.limit,callback:function(t){e.$set(e.formModel,"limit",t)},expression:"formModel.limit"}},e._l(e.limits,(function(e,t){return n("el-option",{key:"limit_"+t,attrs:{label:e,value:e}})})),1)],1)],1),e._v(" "),n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:e.$t("generator.options")}},[n("el-checkbox-group",{model:{value:e.formModel.options,callback:function(t){e.$set(e.formModel,"options",t)},expression:"formModel.options"}},[n("el-checkbox",{attrs:{label:"Soft Deletes",checked:"",disabled:e.$route.params.id>0}}),e._v(" "),n("el-checkbox",{attrs:{label:"User Signature",disabled:e.$route.params.id>0}}),e._v(" "),n("el-checkbox",{attrs:{label:"Role Admin",disabled:e.$route.params.id>0}}),e._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"Not run artisan migrate",placement:"top"}},[n("el-checkbox",{attrs:{label:"Ignore Migrate",disabled:e.$route.params.id>0}})],1),e._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"Only generate migrate and model",placement:"top"}},[n("el-checkbox",{attrs:{label:"Only Migrate"}})],1),e._v(" "),n("el-checkbox",{attrs:{label:"Test Cases",disabled:""}})],1)],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"divTable"},[n("div",{staticClass:"divTableBody"},[n("div",{staticClass:"divTableRow"},[n("div",{staticClass:"divTableCell text-center"},[n("b",[e._v(e._s(e.$t("generator.no")))])]),e._v(" "),n("div",{staticClass:"divTableCell text-center"},[n("b",[e._v(e._s(e.$t("generator.field_name")))])]),e._v(" "),n("div",{staticClass:"divTableCell text-center"},[n("b",[e._v(e._s(e.$t("generator.field_name_trans")))])]),e._v(" "),n("div",{staticClass:"divTableCell text-center"},[n("b",[e._v(e._s(e.$t("generator.db_type")))])]),e._v(" "),n("div",{staticClass:"divTableCell text-center"},[n("b",[e._v(e._s(e.$t("generator.default_value")))])]),e._v(" "),e.$route.params.id>0?n("div",{staticClass:"divTableCell text-center"},[n("b",[e._v(e._s(e.$t("generator.after_column")))])]):e._e(),e._v(" "),n("div",{staticClass:"divTableCell text-center",staticStyle:{"max-width":"70px",width:"70px"}},[n("b",[e._v(e._s(e.$t("generator.search")))])]),e._v(" "),n("div",{staticClass:"divTableCell text-center",staticStyle:{"max-width":"70px",width:"70px"}},[n("b",[e._v(e._s(e.$t("generator.sort")))])]),e._v(" "),n("div",{staticClass:"divTableCell text-center",staticStyle:{"max-width":"70px",width:"70px"}},[n("b",[e._v(e._s(e.$t("generator.show")))])]),e._v(" "),n("div",{staticClass:"divTableCell text-center",staticStyle:{"max-width":"70px",width:"70px"}},[n("b",[e._v(e._s(e.$t("generator.delete")))])])]),e._v(" "),n("draggable",{staticStyle:{display:"contents"},attrs:{options:{draggable:".draggable",animation:400}},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},e._l(e.form,(function(t,a){return n("el-form",{key:"form_"+a,ref:"dynamicFieldsForm"+a,refInFor:!0,staticClass:"divTableRow hover:tw-bg-gray-200",class:{draggable:!e.disabledMethod(a)&&a>=e.formTemp.length},attrs:{model:t,rules:e.dynamicFieldsRules}},[0===a?[n("div",{staticClass:"divTableCell tw-text-center tw-align-middle"},[e._v("\n                      "+e._s(a+1)+"\n                    ")])]:[n("div",{staticClass:"divTableCell tw-text-center tw-align-middle tw-text-blue-500",on:{click:function(n){return e.showDialogOptions(t.id)}}},[e._v("\n                      "+e._s(a+1)+"\n                    ")])],e._v(" "),n("div",{staticClass:"divTableCell tw-text-center tw-align-middle tw-pt-8"},[n("el-form-item",{attrs:{prop:"field_name"}},[n("el-input",{attrs:{placeholder:"Field Name",disabled:e.disabledMethod(a)},model:{value:t.field_name,callback:function(n){e.$set(t,"field_name",n)},expression:"data.field_name"}})],1)],1),e._v(" "),n("div",{staticClass:"divTableCell tw-text-center tw-align-middle tw-pt-8"},[n("el-form-item",{attrs:{prop:"field_name_trans"}},[n("el-input",{attrs:{placeholder:"Field Name Trans",disabled:e.disabledMethod(a)||e.disableTrans(t.id)},model:{value:t.field_name_trans,callback:function(n){e.$set(t,"field_name_trans",n)},expression:"data.field_name_trans"}})],1)],1),e._v(" "),n("div",{staticClass:"divTableCell tw-text-center tw-align-middle tw-pt-8"},[n("el-form-item",{attrs:{prop:"db_type"}},[n("el-select",{attrs:{filterable:"",placeholder:"DB Type",disabled:e.disabledMethod(a)},on:{change:function(n){return e.changeDBType(a,t.db_type)}},model:{value:t.db_type,callback:function(n){e.$set(t,"db_type",n)},expression:"data.db_type"}},[e._l(e.dbTypeDefault,(function(e,t){return n("el-option",{key:"dbTypeDefault_"+t,attrs:{label:e,value:e}})})),e._v(" "),e._l(e.dbType,(function(t,a){return n("el-option-group",{key:"group_"+a,attrs:{label:t.label}},e._l(t.options,(function(e,t){return n("el-option",{key:"option_"+t,attrs:{label:e,value:e}})})),1)}))],2)],1),e._v(" "),"ENUM"===t.db_type?[n("el-form-item",{attrs:{prop:"enum"}},[n("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"Enum"},model:{value:t.enum,callback:function(n){e.$set(t,"enum",n)},expression:"data.enum"}})],1)]:e._e(),e._v(" "),"VARCHAR"===t.db_type?[n("el-form-item",{attrs:{prop:"length_varchar"}},[n("el-input-number",{attrs:{min:1,max:191},model:{value:t.length_varchar,callback:function(n){e.$set(t,"length_varchar",n)},expression:"data.length_varchar"}})],1)]:e._e()],2),e._v(" "),n("div",{staticClass:"divTableCell tw-text-center tw-align-middle tw-pt-8"},[n("el-form-item",{attrs:{prop:"default_value"}},[e.notAs.includes(t.db_type)?n("el-select",{attrs:{placeholder:"Default Value",disabled:e.disabledMethod(a)},model:{value:t.default_value,callback:function(n){e.$set(t,"default_value",n)},expression:"data.default_value"}},e._l(e.defaultValueNotAs,(function(e,t){return n("el-option",{key:"defaultValue_"+t,attrs:{label:e,value:e}})})),1):n("el-select",{attrs:{placeholder:"Default Value",disabled:e.disabledMethod(a)},model:{value:t.default_value,callback:function(n){e.$set(t,"default_value",n)},expression:"data.default_value"}},e._l(e.defaultValue,(function(e,t){return n("el-option",{key:"defaultValue_"+t,attrs:{label:e,value:e}})})),1)],1),e._v(" "),"As define"===t.default_value?n("el-form-item",{attrs:{prop:"as_define"}},[e.showInputDefault(t.db_type)?["ENUM"===t.db_type?n("el-select",{attrs:{placeholder:"Default Value"},model:{value:t.as_define,callback:function(n){e.$set(t,"as_define",n)},expression:"data.as_define"}},e._l(t.enum,(function(e,t){return n("el-option",{key:"enum_"+t,attrs:{label:e,value:e}})})),1):e._e(),e._v(" "),"BOOLEAN"===t.db_type?n("el-tooltip",{attrs:{content:0===t.as_define?"false":"true",placement:"top"}},[n("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.as_define,callback:function(n){e.$set(t,"as_define",n)},expression:"data.as_define"}})],1):e._e(),e._v(" "),"DATE"===t.db_type?n("el-date-picker",{attrs:{type:"date",placeholder:"Date","value-format":"yyyy-MM-dd"},model:{value:t.as_define,callback:function(n){e.$set(t,"as_define",n)},expression:"data.as_define"}}):e._e(),e._v(" "),"DATETIME"===t.db_type?n("el-date-picker",{attrs:{type:"datetime",placeholder:"Date time","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.as_define,callback:function(n){e.$set(t,"as_define",n)},expression:"data.as_define"}}):e._e(),e._v(" "),"TIME"===t.db_type?n("el-time-picker",{attrs:{placeholder:"Time","value-format":"HH:mm:ss"},model:{value:t.as_define,callback:function(n){e.$set(t,"as_define",n)},expression:"data.as_define"}}):e._e(),e._v(" "),"YEAR"===t.db_type?n("el-date-picker",{attrs:{type:"year",placeholder:"YEAR","value-format":"yyyy"},model:{value:t.as_define,callback:function(n){e.$set(t,"as_define",n)},expression:"data.as_define"}}):e._e()]:n("el-input",{staticClass:"max-w-sm pt-5",attrs:{placeholder:"Default"},model:{value:t.as_define,callback:function(n){e.$set(t,"as_define",n)},expression:"data.as_define"}})],2):e._e()],1),e._v(" "),e.$route.params.id>0?n("div",{staticClass:"divTableCell tw-text-center tw-align-middle"},[e.disableAfterColumn(t.id)?n("el-select",{attrs:{filterable:"",placeholder:"Select"},model:{value:t.after_column,callback:function(n){e.$set(t,"after_column",n)},expression:"data.after_column"}},e._l(e.afterColumn,(function(e,t){return n("el-option",{key:"after_column_"+t,attrs:{label:e.val,value:e.val}})})),1):e._e()],1):e._e(),e._v(" "),n("div",{staticClass:"divTableCell tw-text-center tw-align-middle"},[n("el-checkbox",{attrs:{disabled:e.disabledMethod(a)||!t.show||e.notSearch.includes(t.db_type)},model:{value:t.search,callback:function(n){e.$set(t,"search",n)},expression:"data.search"}})],1),e._v(" "),n("div",{staticClass:"divTableCell tw-text-center tw-align-middle"},[n("el-checkbox",{attrs:{disabled:!t.show||e.notSoft.includes(t.db_type)},model:{value:t.sort,callback:function(n){e.$set(t,"sort",n)},expression:"data.sort"}})],1),e._v(" "),n("div",{staticClass:"divTableCell tw-text-center tw-align-middle"},[n("el-checkbox",{nativeOn:{click:function(t){return e.changeShow(a)}},model:{value:t.show,callback:function(n){e.$set(t,"show",n)},expression:"data.show"}})],1),e._v(" "),n("div",{staticClass:"divTableCell tw-text-center tw-align-middle"},[a>0?n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return t.preventDefault(),e.removeRow(a)}}}):e._e()],1)],2)})),1)],1)]),e._v(" "),n("div",{staticClass:"tw-pt-6"},[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"success",round:""},on:{click:function(t){return t.preventDefault(),e.addField(t)}}},[e._v("\n              "+e._s(e.$t("generator.add_field"))+"\n            ")])],1),e._v(" "),n("div",{staticClass:"tw-float-right"},[e.$route.params.id?n("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary",round:""},on:{click:function(t){return t.preventDefault(),e.generateUpdate("dynamicFieldsForm","formModel")}}},[e._v("\n              "+e._s(e.$t("generator.generate_update"))+"\n            ")]):n("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary",round:""},on:{click:function(t){return t.preventDefault(),e.generate("dynamicFieldsForm","formModel")}}},[e._v("\n              "+e._s(e.$t("generator.generate"))+"\n            ")])],1)])])])],1),e._v(" "),e.form.length>1?n("el-dialog",{attrs:{title:"Options",visible:e.dialogVisibleOptions,width:"50%"},on:{"update:visible":function(t){e.dialogVisibleOptions=t}}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("label",{staticClass:"el-form-item__label"},[e._v("\n          "+e._s(e.$t("generator.comment"))+"\n        ")]),e._v(" "),n("el-input",{attrs:{placeholder:e.$t("generator.comment")},model:{value:e.optionsComputed.comment,callback:function(t){e.$set(e.optionsComputed,"comment",t)},expression:"optionsComputed.comment"}})],1)],1)],1):e._e()],1)}),[],!1,null,"5d9943f0",null);t.default=k.exports},"1pTT":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("DQNa"),n("07d7"),n("SuFq"),n("JfAA");var a=n("lwsE"),r=n.n(a),i=n("7W2i"),o=n.n(i),s=n("a1gu"),l=n.n(s),c=n("Nsbk"),p=n.n(c);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return l()(this,n)}}var u=function(e){o()(n,e);var t=d(n);function n(){return r()(this,n),t.call(this,"users")}return n}(n("+Awk").a)},"6FdI":function(e,t,n){"use strict";n("qePV");var a={name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"},classImg:{type:String,default:""}}},r=(n("pOXq"),n("KHd+")),i=Object(r.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pan-item",style:{zIndex:this.zIndex,height:this.height,width:this.width}},[t("div",{staticClass:"pan-info"},[t("div",{staticClass:"pan-info-roles-container"},[this._t("default")],2)]),this._v(" "),t("img",{staticClass:"pan-thumb",class:this.classImg,attrs:{src:this.image}})])}),[],!1,null,"5df7bc46",null);t.a=i.exports},"76eg":function(e,t,n){"use strict";n("YdKz")},"7Uuw":function(e,t,n){"use strict";n("kHdp")},"7sWw":function(e,t,n){var a=n("VyIk");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,r);a.locals&&(e.exports=a.locals)},"9rth":function(e,t,n){"use strict";n("hfrA")},B5cj:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("DQNa"),n("07d7"),n("SuFq"),n("JfAA");var a=n("lwsE"),r=n.n(a),i=n("7W2i"),o=n.n(i),s=n("a1gu"),l=n.n(s),c=n("Nsbk"),p=n.n(c);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return l()(this,n)}}var u=function(e){o()(n,e);var t=d(n);function n(){return r()(this,n),t.call(this,"roles")}return n}(n("+Awk").a)},BCM1:function(e,t,n){var a=n("kd+D");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,r);a.locals&&(e.exports=a.locals)},G8Eg:function(e,t,n){(t=n("JPst")(!1)).push([e.i,".el-message-box {\n  width: 98% !important;\n  max-width: 420px;\n}",""]),e.exports=t},"IQv+":function(e,t,n){"use strict";n.r(t);n("x0AG"),n("pDQq");var a=n("o0o1"),r=n.n(a),i=(n("ls82"),n("yXPU")),o=n.n(i),s=n("DHbo"),l=n("k9pt"),c=n("O48x"),p=n("t5Fl"),d=new c.a,u={components:{Pagination:l.a},mixins:[s.default],data:function(){return{diagram:n("YXUq"),dialogVisible:!1,table:{listQuery:{search:"",limit:25,ascending:1,page:1,orderBy:"updated_at",updated_at:[]},list:null,total:0,loading:!1}}},watch:{"table.listQuery.search":Object(p.a)((function(){this.handleFilter()}),500)},mounted:function(){this.getList()},methods:{getList:function(){var e=this;return o()(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.table.loading=!0,t.next=3,d.list(e.table.listQuery);case 3:n=t.sent,a=n.data,e.table.list=a.data,e.table.total=a.count,e.table.loading=!1;case 8:case"end":return t.stop()}}),t)})))()},handleFilter:function(){this.table.listQuery.page=1,this.getList()},changeDateRangePicker:function(e){if(e){var t=this.parseTime(e[0]),n=this.parseTime(e[1]);this.table.listQuery.updated_at=[t,n]}else this.table.listQuery.updated_at=[];this.handleFilter()},sortChange:function(e){var t=e.prop,n=e.order;this.table.listQuery.orderBy=t,this.table.listQuery.ascending="ascending"===n?0:1,this.getList()},remove:function(e){var t=this;this.$confirm(this.$t("messages.delete_confirm",{attribute:this.$t("table.user.id")+"#"+e}),this.$t("messages.warning"),{confirmButtonText:this.$t("button.ok"),cancelButtonClass:this.$t("button.cancel"),type:"warning",center:!0}).then(o()(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.table.loading=!0,n.next=3,d.destroy(e);case 3:a=t.table.list.findIndex((function(t){return t.id===e})),t.table.list.splice(a,1),t.$message({showClose:!0,message:t.$t("messages.delete"),type:"success"}),t.table.loading=!1;case 7:case"end":return n.stop()}}),n)}))))},parseTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"{y}-{m}-{d}";return this.$options.filters.parseTime(e,t)},numericalOrder:function(e){var t=this.table.listQuery;return(t.page-1)*t.limit+e+1}}},m=(n("Trug"),n("KHd+")),f=Object(m.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{span:24}},[n("el-card",[n("div",{staticClass:"tw-flex tw-justify-between tw-items-center",attrs:{slot:"header"},slot:"header"},[n("div"),e._v(" "),n("button",{staticClass:"hover:tw-bg-green-600 hover:tw-text-white tw-font-bold tw-border tw-rounded tw-border-green-600 tw-text-green-600 tw-bg-transparent tw-py-3 tw-px-4",on:{click:function(t){e.dialogVisible=!0}}},[n("svg-icon",{attrs:{"icon-class":"tree-table"}})],1),e._v(" "),n("router-link",{staticClass:"pan-btn blue-btn",attrs:{to:{name:"generator-create"},tag:"button"}},[n("i",{staticClass:"el-icon-plus tw-mr-2"}),e._v("\n          Create\n        ")])],1),e._v(" "),n("div",{staticClass:"tw-flex tw-flex-col"},[n("el-col",{staticClass:"tw-mb-6",attrs:{span:24}},[n("el-col",{attrs:{xs:24,sm:10,md:6}},[n("label",[e._v(e._s(e.$t("table.texts.filter")))]),e._v(" "),n("el-input",{attrs:{placeholder:e.$t("table.texts.filterPlaceholder")},model:{value:e.table.listQuery.search,callback:function(t){e.$set(e.table.listQuery,"search",t)},expression:"table.listQuery.search"}})],1),e._v(" "),n("el-col",{attrs:{xs:24,sm:14,md:18}},[n("br"),e._v(" "),n("el-date-picker",{staticClass:"md:tw-float-right",attrs:{type:"daterange","start-placeholder":e.$t("date.start_date"),"end-placeholder":e.$t("date.end_date"),"picker-options":e.pickerOptions},on:{change:e.changeDateRangePicker},model:{value:e.table.listQuery.updated_at,callback:function(t){e.$set(e.table.listQuery,"updated_at",t)},expression:"table.listQuery.updated_at"}})],1)],1),e._v(" "),n("el-col",{staticClass:"table-responsive",attrs:{span:24}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"w-full",attrs:{data:e.table.list,"default-sort":{prop:"updated_at",order:"descending"},border:"",fit:"","highlight-current-row":""},on:{"sort-change":e.sortChange}},[n("el-table-column",{attrs:{align:"center",sortable:"custom",prop:"id",label:"No.",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n                "+e._s(n.id)+"\n              ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"Table"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n                "+e._s(n.table)+"\n              ")]}}])}),e._v(" "),n("el-table-column",{attrs:{"data-generator":"updated_at",prop:"updated_at",label:e.$t("date.updated_at"),sortable:"custom",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n                "+e._s(e._f("parseTime")(n.updated_at,"{y}-{m}-{d}"))+"\n              ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:e.$t("table.actions"),align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("router-link",{attrs:{to:{name:"generator-edit",params:{id:a.id}}}},[n("el-tooltip",{attrs:{effect:"dark",content:"Edit",placement:"left"}},[n("i",{staticClass:"el-icon-edit el-link el-link--primary tw-mr-4"})])],1),e._v(" "),n("router-link",{attrs:{to:{name:"generator-relationship",params:{id:a.id}}}},[n("el-tooltip",{attrs:{effect:"dark",content:"Relationship",placement:"top"}},[n("svg-icon",{staticClass:"el-link el-link--success tw-mr-4",attrs:{"icon-class":"tree"}})],1)],1),e._v(" "),1!==a.id?n("a",{directives:[{name:"permission",rawName:"v-permission",value:["delete"],expression:"['delete']"}],staticClass:"cursor-pointer",on:{click:function(t){return t.stopPropagation(),e.remove(a.id)}}},[n("el-tooltip",{attrs:{effect:"dark",content:"Remove",placement:"right"}},[n("i",{staticClass:"el-icon-delete el-link el-link--danger"})])],1):e._e()]}}])})],1),e._v(" "),e.table.total>0?n("pagination",{attrs:{total:e.table.total,page:e.table.listQuery.page,limit:e.table.listQuery.limit},on:{"update:page":function(t){return e.$set(e.table.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.table.listQuery,"limit",t)},pagination:e.getList}}):e._e()],1)],1)])],1),e._v(" "),n("div",{staticClass:"container tw-is-fullhd"},[n("el-dialog",{attrs:{visible:e.dialogVisible,fullscreen:!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticClass:"text-center",attrs:{slot:"title"},slot:"title"},[n("h3",{staticClass:"title"},[e._v("\n          Diagram "+e._s(e.$t("route.generator_relationship"))+"\n        ")])]),e._v(" "),n("div",[n("div",{staticClass:"demo-image__preview"},[n("el-image",{attrs:{src:e.diagram,"preview-src-list":[e.diagram]}})],1),e._v(" "),n("svg-icon",{attrs:{"icon-class":"diagram-erd"}})],1)])],1)],1)}),[],!1,null,"93581832",null);t.default=f.exports},LmOG:function(e,t,n){"use strict";n.r(t);n("pNMO"),n("4Brf"),n("0oug"),n("ma9I"),n("TeQF"),n("fbCW"),n("x0AG"),n("QWBl"),n("pjDv"),n("J30X"),n("4mDm"),n("2B1R"),n("+2oP"),n("Rfxz"),n("pDQq"),n("DQNa"),n("sMBO"),n("zKZe"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("07d7"),n("JfAA"),n("PKPk"),n("LKBx"),n("FZtP"),n("3bBZ");var a=n("lSNA"),r=n.n(a),i=n("o0o1"),o=n.n(i),s=(n("ls82"),n("yXPU")),l=n.n(s),c=n("33yf"),p=n.n(c),d=n("+Awk"),u=n("B5cj"),m=n("GczY"),f=(n("yq1k"),n("JTJg"),n("g6NE")),v={inserted:function(e,t,n){var a=t.value,r=f.a.getters&&f.a.getters.roles;if(!(a&&a instanceof Array&&a.length>0))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");var i=a;r.some((function(e){return i.includes(e)}))||e.parentNode&&e.parentNode.removeChild(e)}},h=function(e){e.directive("role",v)};window.Vue&&(window.role=v,Vue.use(h)),v.install=h;var g=v,b=n("OuqF");function w(e){if(e&&e instanceof Array&&e.length>0){var t=f.a.getters&&f.a.getters.roles,n=e;return!!t.some((function(e){return n.includes(e)}))}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1}var x=n("k9pt"),_=n("dtHD");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var S=new d.a("permissions"),T=new u.a,P={components:{Pagination:x.a},directives:{permission:m.a,role:g},data:function(){return{loading:!1,loadingPermission:!1,currentRoleId:0,permissionId:0,dialogUpdateRoleVisible:!1,dialogCreateRoleVisible:!1,dialogCreatePermissionVisible:!1,routes:[],roles:[],permissions:[],menuPermissions:[],otherPermissions:[],permissionProps:{children:"children",label:"name",disabled:"disabled"},formRole:{name:"",description:""},formPermission:{name:"",description:""},query:{page:1,limit:25,keyword:""},total:0}},computed:{superAdmin:function(){return this.$store.state.settings.superAdmin},currentRole:function(){var e=this,t=this.roles.find((function(t){return t.id===e.currentRoleId}));return void 0===t?{name:"",permissions:[]}:t},rolePermissions:function(){return this.classifyPermissions(this.currentRole.permissions).all},roleMenuPermissions:function(){return this.classifyPermissions(this.currentRole.permissions).menu},roleOtherPermissions:function(){return this.classifyPermissions(this.currentRole.permissions).other},routesData:function(){return this.routes},roleRules:function(){var e=this;return{name:[{validator:function(t,n,a){return n?e.roles.some((function(t){return t.name===n&&t.id!==e.currentRoleId}))?a(new Error("Role exist!")):void a():a(new Error(e.$t("validation.required",{attribute:"Role"})))},trigger:["blur","change"]}]}},permissionRules:function(){var e=this;return{name:[{validator:function(t,n,a){return n?e.permissions.some((function(t){return t.name===n&&t.id!==e.permissionId}))?a(new Error("Permission exist!")):void a():a(new Error(e.$t("validation.required",{attribute:"Permission"})))},trigger:["blur","change"]}]}}},created:function(){this.getRoles(),this.getPermissions(),this.getRoutes()},methods:{checkPermission:b.a,checkRole:w,getRoutes:function(){var e=this;return l()(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=_.a.concat(_.b),e.routes=e.generateRoutes(n);case 2:case"end":return t.stop()}}),t)})))()},generateRoutes:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",a=[],r=C(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!i.hidden){var o=this.onlyOneShowingChild(i.children,i);i.children&&o&&!i.alwaysShow&&(i=o);var s={path:p.a.resolve(n,i.path),name:i.meta&&i.meta.title};i.children&&(s.children=this.generateRoutes(i.children,s.path)),a.push(s)}}}catch(e){r.e(e)}finally{r.f()}return a},getRoles:function(){var e=this;this.loading=!0,T.list().then((function(t){e.roles=t.data.data,e.loading=!1}))},getPermissions:function(){var e=this;this.loadingPermission=!0,S.list(this.query).then((function(t){var n=t.data.data,a=e.classifyPermissions(n),r=a.all,i=a.menu,o=a.other;e.total=t.data.meta.total,e.permissions=r,e.menuPermissions=i,e.otherPermissions=o,e.loadingPermission=!1}))},classifyPermissions:function(e){var t=this,n=[],a=[],r=[];return e.forEach((function(e){var i=e.name;n.push(e),i.startsWith("view menu")?a.push(t.normalizeMenuPermission(e)):r.push(t.normalizePermission(e))})),{all:n,menu:a,other:r}},normalizeMenuPermission:function(e){return{id:e.id,name:e.name.substring(10)}},normalizePermission:function(e){return{id:e.id,name:e.name,disabled:!w([this.superAdmin])&&"manage permission"===e.name}},permissionKeys:function(e){return e.map((function(e){return e.id}))},permissionName:function(e){return e.map((function(e){return e.name}))},handleEditRolePermissions:function(e){var t=this;this.resetFormRole(),this.dialogUpdateRoleVisible=!0,this.currentRoleId=e,this.formRole=Object.assign({},this.currentRole),this.$nextTick((function(){t.$refs.menuPermissions.setCheckedKeys(t.permissionName(t.roleMenuPermissions)),t.$refs.otherPermissions.setCheckedKeys(t.permissionKeys(t.roleOtherPermissions))}))},updateRolePermission:function(e){var t=this,n={menu:this.$refs.menuPermissions.getCheckedKeys(),other:this.$refs.otherPermissions.getCheckedKeys()};this.$refs[e].validate((function(e){e&&T.update(t.currentRole.id,{permissions:n,role:t.formRole}).then((function(e){t.$message({message:"Role "+t.$t("messages.update"),type:"success",duration:5e3}),t.dialogUpdateRoleVisible=!1,t.getRoles(),t.getPermissions()}))}))},showCreateRole:function(){this.resetFormRole(),this.dialogCreateRoleVisible=!0},createRole:function(e){var t=this;this.$refs[e].validate((function(n){n&&T.store(t.formRole).then((function(n){var a=n.data.data;t.roles.push(a),t.$notify({title:t.$t("messages.update"),dangerouslyUseHTMLString:!0,message:"\n                  <div>Role name: ".concat(t.formRole.name,"</div>\n                  <div>Description: ").concat(t.formRole.description,"</div>\n                "),type:"success"}),t.$refs[e].resetFields()}))}))},handleDeleteRole:function(e,t){var n=this;this.$confirm(this.$t("messages.delete_confirm",{attribute:"[".concat(t,"]")}),this.$t("messages.warning"),{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){T.destroy(e).then((function(t){var a=n.roles.findIndex((function(t){return t.id===e}));n.roles.splice(a,1),n.$notify({title:"Success",message:n.$t("messages.delete"),type:"success"})}))}))},showCreatePermission:function(){this.dialogCreatePermissionVisible=!0,this.permissionId=0,this.resetFormPermission()},createPermission:function(e){var t=this;this.$refs[e].validate((function(n){n&&S.store(t.formPermission).then((function(){t.$notify({title:t.$t("messages.update"),dangerouslyUseHTMLString:!0,message:"\n                  <div>Role name: ".concat(t.formPermission.name,"</div>\n                  <div>Description: ").concat(t.formPermission.description,"</div>\n                "),type:"success"}),t.getPermissions(),t.$refs[e].resetFields()}))}))},handleDeletePermission:function(e,t){var n=this;this.$confirm(this.$t("messages.delete_confirm",{attribute:"[".concat(t,"]")}),this.$t("messages.warning"),{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){S.destroy(e).then((function(){n.$notify({title:"Success",message:n.$t("messages.delete"),type:"success"}),n.getPermissions()}))}))},handleEditPermissions:function(e){this.permissionId=e,this.dialogCreatePermissionVisible=!0;var t=this.permissions.find((function(t){return t.id===e}));this.formPermission=Object.assign({},t)},updatePermission:function(e){var t=this;this.$refs[e].validate((function(e){e&&S.update(t.permissionId,t.formPermission).then((function(){t.$message({message:"Permissions "+t.$t("messages.update"),type:"success",duration:5e3}),t.dialogCreatePermissionVisible=!1,t.getPermissions()}))}))},onlyOneShowingChild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=null,a=e.filter((function(e){return!e.hidden}));return 1===a.length?((n=a[0]).path=p.a.resolve(t.path,n.path),n):0===a.length&&(n=k(k({},t),{},{path:"",noShowingChildren:!0}))},resetFormRole:function(){this.formRole={name:"",description:""}},resetFormPermission:function(){this.formPermission={name:"",description:""}}}},R=n("KHd+"),O=Object(R.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{span:24}},[n("el-card",[n("div",{attrs:{slot:"header"},slot:"header"},[n("h3",[e._v(e._s(e.$t("route.role_permission")))])]),e._v(" "),n("div",{staticClass:"tw-text-right tw-mb-8"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.showCreateRole()}}},[e._v("\n          Role\n        ")])],1),e._v(" "),n("div",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"highlight-current-row":"",fit:"",border:"",data:e.roles}},[n("el-table-column",{attrs:{type:"index",align:"center",label:e.$t("table.rolePermission.id"),width:"50px"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:e.$t("table.rolePermission.name")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n              "+e._s(n.name)+"\n            ")]}}])}),e._v(" "),n("el-table-column",{attrs:{"header-align":"center",label:e.$t("table.rolePermission.description")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n              "+e._s(n.description)+"\n            ")]}}])}),e._v(" "),e.checkPermission(["manage permission"])?n("el-table-column",{attrs:{align:"center",label:"Actions"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.name===e.superAdmin&&e.checkRole([e.superAdmin])?n("div",[n("el-button",{attrs:{type:"success",round:"",icon:"el-icon-view",size:"small"},on:{click:function(t){return e.handleEditRolePermissions(a.id)}}})],1):e._e(),e._v(" "),a.name!==e.superAdmin?n("div",[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(t){return e.handleEditRolePermissions(a.id)}}},[e._v("\n                  Edit permission\n                ")]),e._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(t){return e.handleDeleteRole(a.id,a.name)}}})],1):e._e()]}}],null,!1,3116755374)}):e._e()],1),e._v(" "),n("div",{staticClass:"tw-my-8 tw-text-right"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.showCreatePermission()}}},[e._v("\n            Permission\n          ")])],1),e._v(" "),n("el-input",{staticClass:"tw-w-64 tw-mb-4",attrs:{placeholder:e.$t("table.rolePermission.name")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getPermissions(t)}},model:{value:e.query.keyword,callback:function(t){e.$set(e.query,"keyword",t)},expression:"query.keyword"}}),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"highlight-current-row":"",fit:"",border:"",data:e.permissions}},[n("el-table-column",{attrs:{type:"index",align:"center",label:e.$t("table.rolePermission.id"),width:"50px"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:e.$t("table.rolePermission.name")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n              "+e._s(n.name)+"\n            ")]}}])}),e._v(" "),n("el-table-column",{attrs:{"header-align":"center",label:e.$t("table.rolePermission.description")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n              "+e._s(n.description)+"\n            ")]}}])}),e._v(" "),e.checkPermission(["manage permission"])?n("el-table-column",{attrs:{align:"center",label:"Actions"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return"manage permission"!==a.name?[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(t){return e.handleEditPermissions(a.id)}}}),e._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(t){return e.handleDeletePermission(a.id,a.name)}}})]:void 0}}],null,!0)}):e._e()],1),e._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.query.page,limit:e.query.limit},on:{"update:page":function(t){return e.$set(e.query,"page",t)},"update:limit":function(t){return e.$set(e.query,"limit",t)},pagination:e.getPermissions}}),e._v(" "),n("el-dialog",{attrs:{title:"["+e.currentRole.name+"] Edit Permission",visible:e.dialogUpdateRoleVisible,center:""},on:{"update:visible":function(t){e.dialogUpdateRoleVisible=t}}},[n("div",[n("el-form",{ref:"formRole",attrs:{model:e.formRole,rules:e.roleRules,"label-width":"110px","label-position":"left"}},[n("el-form-item",{attrs:{required:"",label:"Role name",prop:"name"}},[n("el-input",{attrs:{autofocus:""},model:{value:e.formRole.name,callback:function(t){e.$set(e.formRole,"name",t)},expression:"formRole.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Description",prop:"description"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.formRole.description,callback:function(t){e.$set(e.formRole,"description",t)},expression:"formRole.description"}})],1)],1)],1),e._v(" "),n("div",{staticClass:"tw-flex tw-justify-between tw-items-start"},[n("el-form",{staticClass:"tw-w-6/12",attrs:{model:e.currentRole,"label-width":"80px","label-position":"top"}},[n("el-form-item",{attrs:{label:"Menus"}},[n("el-tree",{ref:"menuPermissions",staticClass:"permission-tree",attrs:{data:e.routesData,props:e.permissionProps,"default-checked-keys":e.permissionName(e.roleMenuPermissions),"show-checkbox":"","node-key":"name"}})],1)],1),e._v(" "),n("el-form",{staticClass:"tw-w-6/12",attrs:{model:e.currentRole,"label-width":"80px","label-position":"top"}},[n("el-form-item",{attrs:{label:"Permissions"}},[n("el-tree",{ref:"otherPermissions",staticClass:"permission-tree",attrs:{data:e.otherPermissions,"default-checked-keys":e.permissionKeys(e.roleOtherPermissions),props:e.permissionProps,"show-checkbox":"","node-key":"id"}})],1)],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogUpdateRoleVisible=!1}}},[e._v("\n              Cancel\n            ")]),e._v(" "),e.currentRole.name!==e.superAdmin?n("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:function(t){return e.updateRolePermission("formRole")}}},[e._v("\n              "+e._s(e.$t("button.update"))+"\n            ")]):e._e()],1)]),e._v(" "),n("el-dialog",{attrs:{title:"Create role",visible:e.dialogCreateRoleVisible,center:""},on:{"update:visible":function(t){e.dialogCreateRoleVisible=t}}},[n("div",{staticClass:"tw-flex tw-justify-between tw-items-start"},[n("el-form",{ref:"formRole",attrs:{model:e.formRole,rules:e.roleRules,"label-width":"110px","label-position":"left"}},[n("el-form-item",{attrs:{required:"",label:"Role name",error:e.errors.name&&e.errors.name[0],prop:"name"}},[n("el-input",{attrs:{autofocus:"",placeholder:"Ex: admin"},model:{value:e.formRole.name,callback:function(t){e.$set(e.formRole,"name",t)},expression:"formRole.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Description",prop:"description"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.formRole.description,callback:function(t){e.$set(e.formRole,"description",t)},expression:"formRole.description"}})],1)],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogCreateRoleVisible=!1}}},[e._v("\n              Cancel\n            ")]),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.createRole("formRole")}}},[e._v("\n              "+e._s(e.$t("button.create"))+"\n            ")])],1)]),e._v(" "),n("el-dialog",{attrs:{title:"Create permission",visible:e.dialogCreatePermissionVisible,center:""},on:{"update:visible":function(t){e.dialogCreatePermissionVisible=t}}},[n("div",[n("el-form",{ref:"formPermission",attrs:{model:e.formPermission,rules:e.permissionRules,"label-width":"110px","label-position":"left"}},[n("el-form-item",{attrs:{required:"",label:"Permission",error:e.errors.name&&e.errors.name[0],prop:"name"}},[n("el-input",{attrs:{autofocus:"",placeholder:"Ex: role_permission"},model:{value:e.formPermission.name,callback:function(t){e.$set(e.formPermission,"name",t)},expression:"formPermission.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Description",prop:"description"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.formPermission.description,callback:function(t){e.$set(e.formPermission,"description",t)},expression:"formPermission.description"}})],1)],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogCreatePermissionVisible=!1}}},[e._v("\n              Cancel\n            ")]),e._v(" "),0==+e.permissionId?n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.createPermission("formPermission")}}},[e._v("\n              "+e._s(e.$t("button.create"))+"\n            ")]):n("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:function(t){return e.updatePermission("formPermission")}}},[e._v("\n              "+e._s(e.$t("button.update"))+"\n            ")])],1)])],1)])],1)],1)}),[],!1,null,null,null);t.default=O.exports},O48x:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n("DQNa"),n("07d7"),n("SuFq"),n("JfAA");var a=n("lwsE"),r=n.n(a),i=n("W8MJ"),o=n.n(i),s=n("7W2i"),l=n.n(s),c=n("a1gu"),p=n.n(c),d=n("Nsbk"),u=n.n(d),m=n("rywy");function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=u()(e);if(t){var r=u()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return p()(this,n)}}var v=function(e){l()(n,e);var t=f(n);function n(){return r()(this,n),t.call(this,"generators")}return o()(n,[{key:"checkModel",value:function(e){return Object(m.a)({url:"/generators/check-model",method:"get",params:{name:e}})}},{key:"checkColumn",value:function(e,t){return Object(m.a)({url:"/generators/check-column",method:"get",params:{table:e,column:t}})}},{key:"getModels",value:function(e){return Object(m.a)({url:"/generators/get-models",method:"get",params:{model:e}})}},{key:"getColumns",value:function(e){return Object(m.a)({url:"/generators/get-columns",method:"get",params:{table:e}})}},{key:"generateRelationship",value:function(e){return Object(m.a)({url:"/generators/relationship",method:"post",data:e})}},{key:"generateDiagram",value:function(e){return Object(m.a)({url:"/generators/diagram",method:"get",params:{model:e}})}}]),n}(n("+Awk").a)},RZPo:function(e,t,n){(t=n("JPst")(!1)).push([e.i,'.w-04-rem[data-v-6247825c] {\n  width: 0.4rem;\n}\n.draw-arrow-down[data-v-6247825c] {\n  position: relative;\n}\n.draw-arrow-down[data-v-6247825c]:before {\n  content: "";\n  position: absolute;\n  bottom: -1rem;\n  right: -0.3rem;\n  width: 0;\n  height: 0;\n  border-left: 0.5rem solid transparent;\n  border-right: 0.5rem solid transparent;\n  border-top: 1.9rem solid #5a67d8;\n}\n.error-danger[data-v-6247825c] input {\n  border-color: #ff3860 !important;\n}\n.options[data-v-6247825c] {\n  width: 260px;\n}\n.one[data-v-6247825c]:after {\n  content: "1";\n  background-color: #5a67d8;\n  position: absolute;\n  top: 14px;\n  left: -8px;\n  color: #fff;\n  width: 20px;\n  height: 20px;\n  border-radius: 100%;\n  text-align: center;\n  line-height: 20px;\n}\n.two[data-v-6247825c]:after {\n  content: "2";\n  background-color: #5a67d8;\n  position: absolute;\n  top: 14px;\n  left: -8px;\n  color: #fff;\n  width: 20px;\n  height: 20px;\n  border-radius: 100%;\n  text-align: center;\n  line-height: 20px;\n}\n.three[data-v-6247825c]:after {\n  content: "3";\n  background-color: #5a67d8;\n  position: absolute;\n  top: 14px;\n  left: -8px;\n  color: #fff;\n  width: 20px;\n  height: 20px;\n  border-radius: 100%;\n  text-align: center;\n  line-height: 20px;\n}\n.four[data-v-6247825c]:after {\n  content: "4";\n  background-color: #5a67d8;\n  position: absolute;\n  top: 14px;\n  left: -8px;\n  color: #fff;\n  width: 20px;\n  height: 20px;\n  border-radius: 100%;\n  text-align: center;\n  line-height: 20px;\n}\n.five[data-v-6247825c]:after {\n  content: "5";\n  background-color: #5a67d8;\n  position: absolute;\n  top: 14px;\n  left: -8px;\n  color: #fff;\n  width: 20px;\n  height: 20px;\n  border-radius: 100%;\n  text-align: center;\n  line-height: 20px;\n}\n.six[data-v-6247825c]:after {\n  content: "6";\n  background-color: #5a67d8;\n  position: absolute;\n  top: 14px;\n  left: -8px;\n  color: #fff;\n  width: 20px;\n  height: 20px;\n  border-radius: 100%;\n  text-align: center;\n  line-height: 20px;\n}\n.equivalent[data-v-6247825c]:after {\n  content: "";\n  position: absolute;\n  top: -1rem;\n  right: -0.3rem;\n  width: 0;\n  height: 0;\n  border-left: 0.5rem solid transparent;\n  border-right: 0.5rem solid transparent;\n  border-bottom: 1.9rem solid #5a67d8;\n}',""]),e.exports=t},S8iK:function(e,t,n){var a=n("bxLd");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,r);a.locals&&(e.exports=a.locals)},SO9Y:function(e,t,n){var a=n("qRN2");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,r);a.locals&&(e.exports=a.locals)},Trug:function(e,t,n){"use strict";n("hyAF")},VyIk:function(e,t,n){(t=n("JPst")(!1)).push([e.i,".waves-ripple {\n  position: absolute;\n  border-radius: 100%;\n  background-color: rgba(0, 0, 0, 0.15);\n  background-clip: padding-box;\n  pointer-events: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  transform: scale(0);\n  opacity: 1;\n}\n\n.waves-ripple.z-active {\n  opacity: 0;\n  transform: scale(2);\n  transition: opacity 1.2s ease-out, transform 0.6s ease-out;\n}",""]),e.exports=t},XPfa:function(e,t,n){(t=n("JPst")(!1)).push([e.i,".pagination-container[data-v-f0c38056] {\n  background: #fff;\n  padding: 32px 16px;\n}\n.pagination-container[data-v-f0c38056]  .el-input {\n  width: 120px;\n}\n.pagination-container.hidden[data-v-f0c38056] {\n  display: none;\n}",""]),e.exports=t},YQL4:function(e,t){e.exports="/images/avatar-default.png?efd0fc7d20532fdaf769a25683617711"},YXUq:function(e,t){e.exports="/images/diagram-erd.png?8b52b8d60536cb6ac3730ce8c98782fa"},YdKz:function(e,t,n){var a=n("pIWR");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,r);a.locals&&(e.exports=a.locals)},bxLd:function(e,t,n){(t=n("JPst")(!1)).push([e.i,"/* DivTable.com */\n.divTable[data-v-5d9943f0] {\n  display: table;\n  width: 100%;\n}\n.divTableRow[data-v-5d9943f0] {\n  display: table-row;\n}\n.divTableHeading[data-v-5d9943f0] {\n  background-color: #eee;\n  display: table-header-group;\n  font-weight: bold;\n}\n.divTableCell[data-v-5d9943f0],\n.divTableHead[data-v-5d9943f0] {\n  border: 1px solid #999999;\n  display: table-cell;\n  padding: 3px 10px;\n}\n.divTableFoot[data-v-5d9943f0] {\n  background-color: #eee;\n  display: table-footer-group;\n  font-weight: bold;\n}\n.divTableBody[data-v-5d9943f0] {\n  display: table-row-group;\n}",""]),e.exports=t},chXA:function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),r=n.n(a),i=(n("ls82"),n("yXPU")),o=n.n(i),s=n("1pTT"),l=n("B5cj"),c=(n("QWBl"),n("yXV3"),n("qePV"),n("zKZe"),n("tkto"),n("FZtP"),n("R5XZ"),n("cDf5")),p=n.n(c),d=n("rywy"),u={zh:{hint:"点击，或拖动图片至此处",loading:"正在上传……",noSupported:"浏览器不支持该功能，请使用IE10以上或其他现在浏览器！",success:"上传成功",fail:"图片上传失败",preview:"头像预览",btn:{off:"取消",close:"关闭",back:"上一步",save:"保存"},error:{onlyImg:"仅限图片格式",outOfSize:"单文件大小不能超过 ",lowestPx:"图片最低像素为（宽*高）："}},"zh-tw":{hint:"點擊，或拖動圖片至此處",loading:"正在上傳……",noSupported:"瀏覽器不支持該功能，請使用IE10以上或其他現代瀏覽器！",success:"上傳成功",fail:"圖片上傳失敗",preview:"頭像預覽",btn:{off:"取消",close:"關閉",back:"上一步",save:"保存"},error:{onlyImg:"僅限圖片格式",outOfSize:"單文件大小不能超過 ",lowestPx:"圖片最低像素為（寬*高）："}},en:{hint:"Click or drag the file here to upload",loading:"Uploading…",noSupported:"Browser is not supported, please use IE10+ or other browsers",success:"Upload success",fail:"Upload failed",preview:"Preview",btn:{off:"Cancel",close:"Close",back:"Back",save:"Save"},error:{onlyImg:"Image only",outOfSize:"Image exceeds size limit: ",lowestPx:"Image's size is too low. Expected at least: "}},vi:{hint:"Nhấp chuột hoặc kéo file vào đây để tải lên",loading:"Đang tải lên…",noSupported:"Trình duyệt không hỗ trợ, Xin vui lòng dùng IE10+ hoặc trình duyệt khác",success:"Tải lên thành công",fail:"Tải lên thất bại",preview:"Xem trước",btn:{off:"Hủy",close:"Đóng",back:"Quay lại",save:"Lưu"},error:{onlyImg:"Chỉ hỗ trợ hình ảnh",outOfSize:"Kích thước vượt quá: ",lowestPx:"Kích thước hình ảnh quá nhỏ. Tối thiểu là: "}},ro:{hint:"Atinge sau trage fișierul aici",loading:"Se încarcă",noSupported:"Browser-ul tău nu suportă acest feature. Te rugăm încearcă cu alt browser.",success:"S-a încărcat cu succes",fail:"A apărut o problemă la încărcare",preview:"Previzualizează",btn:{off:"Anulează",close:"Închide",back:"Înapoi",save:"Salvează"},error:{onlyImg:"Doar imagini",outOfSize:"Imaginea depășește limita de: ",loewstPx:"Imaginea este prea mică; Minim: "}},ru:{hint:"Нажмите, или перетащите файл в это окно",loading:"Загружаю……",noSupported:"Ваш браузер не поддерживается, пожалуйста, используйте IE10 + или другие браузеры",success:"Загрузка выполнена успешно",fail:"Ошибка загрузки",preview:"Предпросмотр",btn:{off:"Отменить",close:"Закрыть",back:"Назад",save:"Сохранить"},error:{onlyImg:"Только изображения",outOfSize:"Изображение превышает предельный размер: ",lowestPx:"Минимальный размер изображения: "}},"pt-br":{hint:"Clique ou arraste o arquivo aqui para carregar",loading:"Carregando…",noSupported:"Browser não suportado, use o IE10+ ou outro browser",success:"Sucesso ao carregar imagem",fail:"Falha ao carregar imagem",preview:"Pré-visualizar",btn:{off:"Cancelar",close:"Fechar",back:"Voltar",save:"Salvar"},error:{onlyImg:"Apenas imagens",outOfSize:"A imagem excede o limite de tamanho: ",lowestPx:"O tamanho da imagem é muito pequeno. Tamanho mínimo: "}},fr:{hint:"Cliquez ou glissez le fichier ici.",loading:"Téléchargement…",noSupported:"Votre navigateur n'est pas supporté. Utilisez IE10 + ou un autre navigateur s'il vous plaît.",success:"Téléchargement réussit",fail:"Téléchargement echoué",preview:"Aperçu",btn:{off:"Annuler",close:"Fermer",back:"Retour",save:"Enregistrer"},error:{onlyImg:"Image uniquement",outOfSize:"L'image sélectionnée dépasse la taille maximum: ",lowestPx:"L'image sélectionnée est trop petite. Dimensions attendues: "}},nl:{hint:"Klik hier of sleep een afbeelding in dit vlak",loading:"Uploaden…",noSupported:"Je browser wordt helaas niet ondersteund. Gebruik IE10+ of een andere browser.",success:"Upload succesvol",fail:"Upload mislukt",preview:"Voorbeeld",btn:{off:"Annuleren",close:"Sluiten",back:"Terug",save:"Opslaan"},error:{onlyImg:"Alleen afbeeldingen",outOfSize:"De afbeelding is groter dan: ",lowestPx:"De afbeelding is te klein! Minimale afmetingen: "}},tr:{hint:"Tıkla veya yüklemek istediğini buraya sürükle",loading:"Yükleniyor…",noSupported:"Tarayıcı desteklenmiyor, lütfen IE10+ veya farklı tarayıcı kullanın",success:"Yükleme başarılı",fail:"Yüklemede hata oluştu",preview:"Önizle",btn:{off:"İptal",close:"Kapat",back:"Geri",save:"Kaydet"},error:{onlyImg:"Sadece resim",outOfSize:"Resim yükleme limitini aşıyor: ",lowestPx:"Resmin boyutu çok küçük. En az olması gereken: "}},"es-MX":{hint:"Selecciona o arrastra una imagen",loading:"Subiendo...",noSupported:"Tu navegador no es soportado, porfavor usa IE10+ u otros navegadores mas recientes",success:"Subido exitosamente",fail:"Sucedió un error",preview:"Vista previa",btn:{off:"Cancelar",close:"Cerrar",back:"Atras",save:"Guardar"},error:{onlyImg:"Unicamente imagenes",outOfSize:"La imagen excede el tamaño maximo:",lowestPx:"La imagen es demasiado pequeño. Se espera por lo menos:"}},de:{hint:"Klick hier oder zieh eine Datei hier rein zum Hochladen",loading:"Hochladen…",noSupported:"Browser wird nicht unterstützt, bitte verwende IE10+ oder andere Browser",success:"Upload erfolgreich",fail:"Upload fehlgeschlagen",preview:"Vorschau",btn:{off:"Abbrechen",close:"Schließen",back:"Zurück",save:"Speichern"},error:{onlyImg:"Nur Bilder",outOfSize:"Das Bild ist zu groß: ",lowestPx:"Das Bild ist zu klein. Mindestens: "}},ja:{hint:"クリック・ドラッグしてファイルをアップロード",loading:"アップロード中...",noSupported:"このブラウザは対応されていません。IE10+かその他の主要ブラウザをお使いください。",success:"アップロード成功",fail:"アップロード失敗",preview:"プレビュー",btn:{off:"キャンセル",close:"閉じる",back:"戻る",save:"保存"},error:{onlyImg:"画像のみ",outOfSize:"画像サイズが上限を超えています。上限: ",lowestPx:"画像が小さすぎます。最小サイズ: "}}},m={jpg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",psd:"image/photoshop"},f=(n("4mDm"),n("rOQg"),n("07d7"),n("rB9j"),n("EnZy"),n("XMab"),n("moxL"),n("qXVe"),n("c162"),n("waxf"),n("0TkE"),n("Onu3"),n("1dYe"),n("gvgV"),n("6R/c"),n("YL0P"),n("X5Zq"),n("MoCz"),n("P8wP"),n("ypFw"),n("JaFt"),n("zSZm"),n("PF2M"),n("KVSy"),n("ZJ55"),n("IZzc"),n("Fwt+"),n("s5qe"),n("cvf0"),{props:{field:{type:String,default:"avatar"},ki:{default:0},value:{default:!0},url:{type:String,default:"upload-file/store-avatar"},params:{type:Object,default:null},headers:{type:Object,default:null},width:{type:Number,default:200},height:{type:Number,default:200},stepRotate:{type:Boolean,default:!0},stepCircle:{type:Boolean,default:!1},stepSquare:{type:Boolean,default:!1},maxSize:{type:Number,default:10240},langType:{type:String,default:"en"},langExt:{type:Object,default:null},imgFormat:{type:String,default:"png"},withCredentials:{type:Boolean,default:!1}},data:function(){var e=this.imgFormat,t=this.langType,n=this.langExt,a=this.width,r=this.height,i=!0,o=-1===["jpg","png"].indexOf(e)?"jpg":e,s=u[t]?u[t]:u.en,l=m[o];return this.imgFormat=o,n&&Object.assign(s,n),"function"!=typeof FormData&&(i=!1),{mime:l,lang:s,isSupported:i,isSupportTouch:document.hasOwnProperty("ontouchstart"),step:1,loading:0,progress:0,hasError:!1,errorMsg:"",ratio:a/r,sourceImg:null,sourceImgUrl:"",createImgUrl:"",sourceImgMouseDown:{on:!1,mX:0,mY:0,x:0,y:0},previewContainer:{width:100,height:100},sourceImgContainer:{width:240,height:184},scale:{zoomAddOn:!1,zoomSubOn:!1,range:1,rotateLeft:!1,rotateRight:!1,degree:0,x:0,y:0,width:0,height:0,maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,naturalWidth:0,naturalHeight:0}}},computed:{progressStyle:function(){return{width:this.progress+"%"}},sourceImgStyle:function(){var e=this.scale,t=this.sourceImgMasking;return{top:e.y+t.y+"px",left:e.x+t.x+"px",width:e.width+"px",height:e.height+"px",transform:"rotate("+e.degree+"deg)","-ms-transform":"rotate("+e.degree+"deg)","-moz-transform":"rotate("+e.degree+"deg)","-webkit-transform":"rotate("+e.degree+"deg)","-o-transform":"rotate("+e.degree+"deg)"}},sourceImgMasking:function(){var e=this.width,t=this.height,n=this.ratio,a=this.sourceImgContainer,r=a.width/a.height,i=0,o=0,s=a.width,l=a.height,c=1;return n<r&&(c=a.height/t,s=a.height*n,i=(a.width-s)/2),n>r&&(c=a.width/e,l=a.width/n,o=(a.height-l)/2),{scale:c,x:i,y:o,width:s,height:l}},sourceImgShadeStyle:function(){var e=this.sourceImgMasking,t=this.sourceImgContainer,n=e;return{width:(n.width===t.width?n.width:(t.width-n.width)/2)+"px",height:(n.height===t.height?n.height:(t.height-n.height)/2)+"px"}},previewStyle:function(){this.width,this.height;var e=this.ratio,t=this.previewContainer,n=t.width,a=t.height,r=n/a;return e<r&&(n=t.height*e),e>r&&(a=t.width/e),{width:n+"px",height:a+"px"}}},watch:{value:function(e){e&&1!==this.loading&&this.reset()}},methods:{ripple:function(e){!function(e,t){var n=Object.assign({ele:e.target,type:"hit",bgc:"rgba(0, 0, 0, 0.15)"},t),a=n.ele;if(a){var r=a.getBoundingClientRect(),i=a.querySelector(".e-ripple");switch(i?i.className="e-ripple":((i=document.createElement("span")).className="e-ripple",i.style.height=i.style.width=Math.max(r.width,r.height)+"px",a.appendChild(i)),n.type){case"center":i.style.top=r.height/2-i.offsetHeight/2+"px",i.style.left=r.width/2-i.offsetWidth/2+"px";break;default:i.style.top=e.pageY-r.top-i.offsetHeight/2-document.body.scrollTop+"px",i.style.left=e.pageX-r.left-i.offsetWidth/2-document.body.scrollLeft+"px"}i.style.backgroundColor=n.bgc,i.className="e-ripple z-active"}}(e)},off:function(){var e=this;setTimeout((function(){e.$emit("input",!1),e.$emit("close"),3===e.step&&2===e.loading&&e.setStep(1)}),200)},setStep:function(e){var t=this;setTimeout((function(){t.step=e}),200)},preventDefault:function(e){return e.preventDefault(),!1},handleClick:function(e){1!==this.loading&&e.target!==this.$refs.fileinput&&(e.preventDefault(),document.activeElement!==this.$refs&&this.$refs.fileinput.click())},handleChange:function(e){if(e.preventDefault(),1!==this.loading){var t=e.target.files||e.dataTransfer.files;this.reset(),this.checkFile(t[0])&&this.setSourceImg(t[0])}},checkFile:function(e){var t=this.lang,n=this.maxSize;return-1===e.type.indexOf("image")?(this.hasError=!0,this.errorMsg=t.error.onlyImg,!1):!(e.size/1024>n)||(this.hasError=!0,this.errorMsg=t.error.outOfSize+n+"kb",!1)},reset:function(){this.loading=0,this.hasError=!1,this.errorMsg="",this.progress=0},setSourceImg:function(e){var t=this,n=new FileReader;n.onload=function(e){t.sourceImgUrl=n.result,t.startCrop()},n.readAsDataURL(e)},startCrop:function(){var e=this,t=e.width,n=e.height,a=e.ratio,r=e.scale,i=e.sourceImgUrl,o=e.sourceImgMasking,s=e.lang,l=o,c=new Image;c.src=i,c.onload=function(){var i=c.naturalWidth,o=c.naturalHeight,p=i/o,d=l.width,u=l.height,m=0,f=0;if(i<t||o<n)return e.hasError=!0,e.errorMsg=s.error.lowestPx+t+"*"+n,!1;a>p&&(u=d/p,f=(l.height-u)/2),a<p&&(d=u*p,m=(l.width-d)/2),r.range=0,r.x=m,r.y=f,r.width=d,r.height=u,r.degree=0,r.minWidth=d,r.minHeight=u,r.maxWidth=i*l.scale,r.maxHeight=o*l.scale,r.naturalWidth=i,r.naturalHeight=o,e.sourceImg=c,e.createImg(),e.setStep(2)}},imgStartMove:function(e){if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;var t=e.targetTouches?e.targetTouches[0]:e,n=this.sourceImgMouseDown,a=this.scale,r=n;r.mX=t.screenX,r.mY=t.screenY,r.x=a.x,r.y=a.y,r.on=!0},imgMove:function(e){if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;var t=e.targetTouches?e.targetTouches[0]:e,n=this.sourceImgMouseDown,a=n.on,r=n.mX,i=n.mY,o=n.x,s=n.y,l=this.scale,c=this.sourceImgMasking,p=o+(t.screenX-r),d=s+(t.screenY-i);a&&(p>0&&(p=0),d>0&&(d=0),p<c.width-l.width&&(p=c.width-l.width),d<c.height-l.height&&(d=c.height-l.height),l.x=p,l.y=d)},startRotateRight:function(e){var t=this,n=t.scale;n.rotateRight=!0,function e(){if(n.rotateRight){var a=++n.degree;t.createImg(a),setTimeout((function(){e()}),60)}}()},startRotateLeft:function(e){var t=this,n=t.scale;n.rotateLeft=!0,function e(){if(n.rotateLeft){var a=--n.degree;t.createImg(a),setTimeout((function(){e()}),60)}}()},endRotate:function(){var e=this.scale;e.rotateLeft=!1,e.rotateRight=!1},startZoomAdd:function(e){var t=this,n=t.scale;n.zoomAddOn=!0,function e(){if(n.zoomAddOn){var a=n.range>=100?100:++n.range;t.zoomImg(a),setTimeout((function(){e()}),60)}}()},endZoomAdd:function(e){this.scale.zoomAddOn=!1},startZoomSub:function(e){var t=this,n=t.scale;n.zoomSubOn=!0,function e(){if(n.zoomSubOn){var a=n.range<=0?0:--n.range;t.zoomImg(a),setTimeout((function(){e()}),60)}}()},endZoomSub:function(e){this.scale.zoomSubOn=!1},zoomChange:function(e){this.zoomImg(e.target.value)},zoomImg:function(e){var t=this,n=this.sourceImgMasking,a=(this.sourceImgMouseDown,this.scale),r=a.maxWidth,i=a.maxHeight,o=a.minWidth,s=a.minHeight,l=a.width,c=a.height,p=a.x,d=a.y,u=(a.range,n),m=u.width,f=u.height,v=o+(r-o)*e/100,h=s+(i-s)*e/100,g=m/2-v/l*(m/2-p),b=f/2-h/c*(f/2-d);g>0&&(g=0),b>0&&(b=0),g<m-v&&(g=m-v),b<f-h&&(b=f-h),a.x=g,a.y=b,a.width=v,a.height=h,a.range=e,setTimeout((function(){a.range===e&&t.createImg()}),300)},createImg:function(e){var t=this.mime,n=this.sourceImg,a=this.scale,r=a.x,i=a.y,o=a.width,s=a.height,l=a.degree,c=this.sourceImgMasking.scale,p=this.$refs.canvas,d=p.getContext("2d");e&&(this.sourceImgMouseDown.on=!1),p.width=this.width,p.height=this.height,d.clearRect(0,0,this.width,this.height),d.fillStyle="#fff",d.fillRect(0,0,this.width,this.height),d.translate(.5*this.width,.5*this.height),d.rotate(Math.PI*l/180),d.translate(.5*-this.width,.5*-this.height),d.drawImage(n,r/c,i/c,o/c,s/c),this.createImgUrl=p.toDataURL(t)},prepareUpload:function(){var e=this.url,t=this.createImgUrl,n=this.field,a=this.ki;this.$emit("crop-success",t,n,a),"string"==typeof e&&e?this.upload():this.off()},upload:function(){var e=this,t=this.lang,n=this.imgFormat,a=this.mime,r=this.url,i=this.params,o=(this.headers,this.field),s=this.ki,l=this.createImgUrl,c=(this.withCredentials,new FormData);c.append(o,function(e,t){e=e.split(",")[1],e=window.atob(e);for(var n=new Uint8Array(e.length),a=0;a<e.length;a++)n[a]=e.charCodeAt(a);return new Blob([n],{type:t})}(l,a),o+"."+n),"object"===p()(i)&&i&&Object.keys(i).forEach((function(e){c.append(e,i[e])}));e.reset(),e.loading=1,e.setStep(3),Object(d.a)({url:r,method:"post",data:c}).then((function(t){e.loading=2,e.$emit("crop-upload-success",t.data)})).catch((function(n){e.value&&(e.loading=3,e.hasError=!0,e.errorMsg=t.fail,e.$emit("crop-upload-fail",n,o,s))}))}},created:function(){var e=this;document.addEventListener("keyup",(function(t){!e.value||"Escape"!==t.key&&27!==t.keyCode||e.off()}))}}),v=(n("xUT9"),n("KHd+")),h=Object(v.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],staticClass:"vue-image-crop-upload"},[n("div",{staticClass:"vicp-wrap"},[n("div",{staticClass:"vicp-close",on:{click:e.off}},[n("i",{staticClass:"vicp-icon4"})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:1==e.step,expression:"step == 1"}],staticClass:"vicp-step1"},[n("div",{staticClass:"vicp-drop-area",on:{dragleave:e.preventDefault,dragover:e.preventDefault,dragenter:e.preventDefault,click:e.handleClick,drop:e.handleChange}},[n("i",{directives:[{name:"show",rawName:"v-show",value:1!=e.loading,expression:"loading != 1"}],staticClass:"vicp-icon1"},[n("i",{staticClass:"vicp-icon1-arrow"}),e._v(" "),n("i",{staticClass:"vicp-icon1-body"}),e._v(" "),n("i",{staticClass:"vicp-icon1-bottom"})]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:1!==e.loading,expression:"loading !== 1"}],staticClass:"vicp-hint"},[e._v(e._s(e.lang.hint))]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.isSupported,expression:"!isSupported"}],staticClass:"vicp-step-supported-hint"},[e._v("\n          "+e._s(e.lang.stepSupported)+"\n        ")]),e._v(" "),1==e.step?n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"fileinput",attrs:{type:"file"},on:{change:e.handleChange}}):e._e()]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.hasError,expression:"hasError"}],staticClass:"vicp-error"},[n("i",{staticClass:"vicp-icon2"}),e._v("\n        "+e._s(e.errorMsg)+"\n      ")]),e._v(" "),n("div",{staticClass:"vicp-operate"},[n("a",{on:{click:e.off,mousedown:e.ripple}},[e._v(e._s(e.lang.btn.off))])])]),e._v(" "),2==e.step?n("div",{staticClass:"vicp-step2"},[n("div",{staticClass:"vicp-crop"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-left"},[n("div",{staticClass:"vicp-img-container"},[n("img",{ref:"img",staticClass:"vicp-img",style:e.sourceImgStyle,attrs:{src:e.sourceImgUrl,draggable:"false"},on:{drag:e.preventDefault,dragstart:e.preventDefault,dragend:e.preventDefault,dragleave:e.preventDefault,dragover:e.preventDefault,dragenter:e.preventDefault,drop:e.preventDefault,touchstart:e.imgStartMove,touchmove:e.imgMove,touchend:e.createImg,touchcancel:e.createImg,mousedown:e.imgStartMove,mousemove:e.imgMove,mouseup:e.createImg,mouseout:e.createImg}}),e._v(" "),n("div",{staticClass:"vicp-img-shade vicp-img-shade-1",style:e.sourceImgShadeStyle}),e._v(" "),n("div",{staticClass:"vicp-img-shade vicp-img-shade-2",style:e.sourceImgShadeStyle})]),e._v(" "),n("div",{staticClass:"vicp-range"},[n("input",{attrs:{type:"range",step:"1",min:"0",max:"100"},domProps:{value:e.scale.range},on:{input:e.zoomChange}}),e._v(" "),n("i",{staticClass:"vicp-icon5",on:{mousedown:e.startZoomSub,mouseout:e.endZoomSub,mouseup:e.endZoomSub}}),e._v(" "),n("i",{staticClass:"vicp-icon6",on:{mousedown:e.startZoomAdd,mouseout:e.endZoomAdd,mouseup:e.endZoomAdd}})]),e._v(" "),e.stepRotate?e._e():n("div",{staticClass:"vicp-rotate"},[n("i",{on:{mousedown:e.startRotateLeft,mouseout:e.endRotate,mouseup:e.endRotate}},[e._v("\n              ↺\n            ")]),e._v(" "),n("i",{on:{mousedown:e.startRotateRight,mouseout:e.endRotate,mouseup:e.endRotate}},[e._v("\n              ↻\n            ")])])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-right"},[n("div",{staticClass:"vicp-preview"},[e.stepSquare?e._e():n("div",{staticClass:"vicp-preview-item"},[n("img",{style:e.previewStyle,attrs:{src:e.createImgUrl}}),e._v(" "),n("span",[e._v(e._s(e.lang.preview))])]),e._v(" "),e.stepCircle?e._e():n("div",{staticClass:"vicp-preview-item vicp-preview-item-circle"},[n("img",{style:e.previewStyle,attrs:{src:e.createImgUrl}}),e._v(" "),n("span",[e._v(e._s(e.lang.preview))])])])])]),e._v(" "),n("div",{staticClass:"vicp-operate"},[n("a",{on:{click:function(t){return e.setStep(1)},mousedown:e.ripple}},[e._v(e._s(e.lang.btn.back))]),e._v(" "),n("a",{staticClass:"vicp-operate-btn",on:{click:e.prepareUpload,mousedown:e.ripple}},[e._v("\n          "+e._s(e.lang.btn.save)+"\n        ")])])]):e._e(),e._v(" "),3==e.step?n("div",{staticClass:"vicp-step3"},[n("div",{staticClass:"vicp-upload"},[n("span",{directives:[{name:"show",rawName:"v-show",value:1===e.loading,expression:"loading === 1"}],staticClass:"vicp-loading"},[e._v("\n          "+e._s(e.lang.loading)+"\n        ")]),e._v(" "),n("div",{staticClass:"vicp-progress-wrap"},[n("span",{directives:[{name:"show",rawName:"v-show",value:1===e.loading,expression:"loading === 1"}],staticClass:"vicp-progress",style:e.progressStyle})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.hasError,expression:"hasError"}],staticClass:"vicp-error"},[n("i",{staticClass:"vicp-icon2"}),e._v("\n          "+e._s(e.errorMsg)+"\n        ")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2===e.loading,expression:"loading === 2"}],staticClass:"vicp-success"},[n("i",{staticClass:"vicp-icon3"}),e._v("\n          "+e._s(e.lang.success)+"\n        ")])]),e._v(" "),n("div",{staticClass:"vicp-operate"},[n("a",{on:{click:function(t){return e.setStep(2)},mousedown:e.ripple}},[e._v(e._s(e.lang.btn.back))]),e._v(" "),n("a",{on:{click:e.off,mousedown:e.ripple}},[e._v(e._s(e.lang.btn.close))])])]):e._e(),e._v(" "),n("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"canvas",attrs:{width:e.width,height:e.height}})])])}),[],!1,null,null,null).exports,g=n("6FdI"),b=n("l+MC"),w=new s.a,x=new l.a,_={components:{ImageCropper:h,PanThumb:g.a},data:function(){return{rolesList:[],form:{name:"",email:"",avatar:n("YQL4"),role_id:"",password:"",password_confirmation:""},loading:{button:!1,form:!1},fileOld:"",imageCropperShow:!1,imageCropperKey:0}},computed:{rules:function(){var e=this;return{name:[{validator:function(t,n,a){n?a():a(new Error(e.$t("validation.required",{attribute:e.$t("table.user.name")})))},trigger:"blur"}],email:[{validator:function(t,n,a){n?Object(b.d)(n)?a():a(new Error(e.$t("validation.email",{attribute:e.$t("table.user.email")}))):a(new Error(e.$t("validation.required",{attribute:e.$t("table.user.email")})))},trigger:["blur","change"]}],avatar:[{validator:function(t,n,a){n?a():a(new Error(e.$t("validation.required",{attribute:e.$t("table.user.avatar")})))},trigger:"blur"}],role_id:[{validator:function(t,n,a){n?a():a(new Error(e.$t("validation.required",{attribute:e.$t("table.user.role")})))},trigger:"change"}],password:[{validator:function(t,n,a){""===n?a(new Error(e.$t("validation.required",{attribute:e.$t("table.user.password")}))):(""!==e.form.password_confirmation&&e.$refs.users.validateField("password_confirmation"),a())},trigger:["change","blur"]},{min:8,message:this.$t("validation.min.string",{attribute:this.$t("table.user.password"),min:8}),trigger:["change","blur"]}],password_confirmation:[{validator:function(t,n,a){""===n?a(new Error(e.$t("validation.required",{attribute:e.$t("table.user.password_confirmation")}))):n!==e.form.password?a(new Error(e.$t("validation.confirmed",{attribute:e.$t("table.user.password_confirmation")}))):a()},trigger:["change","blur"]}]}}},watch:{},mounted:function(){var e=this;this.roles();var t=this.$route.params.id;t&&(this.loading.form=!1,w.get(t).then((function(t){var n=t.data.data;e.form=n})))},methods:{store:function(e){var t=this;this.$refs[e].validate(function(){var n=o()(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=7;break}return t.loading=!0,n.next=4,w.store(t.form);case 4:t.$message({showClose:!0,message:t.$t("messages.create"),type:"success"}),t.$refs[e].resetFields(),t.loading.button=!1;case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},roles:function(){var e=this;x.list().then((function(t){e.rolesList=t.data.data}))},update:function(e){var t=this;this.$refs[e].validate(function(){var e=o()(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}return t.loading.button=!0,delete t.form.password,e.next=5,w.update(t.$route.params.id,t.form);case 5:t.$message({showClose:!0,message:t.$t("messages.update"),type:"success"}),t.loading.button=!1,t.$router.push({name:"user"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},cropSuccess:function(e){this.imageCropperShow=!1,this.imageCropperKey=this.imageCropperKey+1,this.form.avatar=e.data,this.fileOld=e.data,this.$message({message:this.$t("messages.upload"),type:"success"})},cropError:function(e){var t=e.response.data.errors.file[0];this.$message({message:t,type:"error"})},close:function(){this.imageCropperShow=!1}}},y=Object(v.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{span:24}},[n("el-card",[n("div",{attrs:{slot:"header"},slot:"header"},[e.$route.params.id?[e._v("\n          "+e._s(e.$t("route.user_edit"))+"\n        ")]:[e._v("\n          "+e._s(e.$t("route.user_create"))+"\n        ")]],2),e._v(" "),n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.form,expression:"loading.form"}],ref:"users",attrs:{model:e.form,rules:e.rules}},[n("el-form-item",{attrs:{"data-generator":"name",label:e.$t("table.user.name"),required:"",prop:"name"}},[n("el-input",{attrs:{autofocus:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{"data-generator":"email",error:e.errors.email&&e.errors.email[0],label:e.$t("table.user.email"),required:"",prop:"email"}},[n("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),n("el-form-item",{attrs:{"data-generator":"avatar",error:e.errors.avatar&&e.errors.avatar[0],label:e.$t("table.user.avatar"),prop:"avatar"}},[n("pan-thumb",{attrs:{image:e.form.avatar,"class-img":"bg-white"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-upload"},on:{click:function(t){e.imageCropperShow=!0}}})],1),e._v(" "),n("image-cropper",{directives:[{name:"show",rawName:"v-show",value:e.imageCropperShow,expression:"imageCropperShow"}],key:e.imageCropperKey,attrs:{width:300,height:300,url:"upload-file/store-avatar",params:{fileOld:e.$route.params.id?e.fileOld?e.fileOld:"":e.fileOld},field:"file","lang-type":"en"},on:{close:e.close,"crop-upload-success":e.cropSuccess,"crop-upload-fail":e.cropError}})],1),e._v(" "),n("el-form-item",{attrs:{"data-generator":"role_id",label:e.$t("table.user.role"),required:"",prop:"role_id"}},[n("el-select",{staticClass:"w-full",attrs:{placeholder:"Role"},model:{value:e.form.role_id,callback:function(t){e.$set(e.form,"role_id",t)},expression:"form.role_id"}},e._l(e.rolesList,(function(e){return n("el-option",{key:"role_"+e.id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),e.$route.params.id?e._e():n("el-form-item",{attrs:{"data-generator":"password",required:"",label:e.$t("table.user.password"),prop:"password"}},[n("el-input",{attrs:{"show-password":"",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),e.$route.params.id?e._e():n("el-form-item",{attrs:{"data-generator":"password_confirmation",required:"",label:e.$t("table.user.password_confirmation"),prop:"password_confirmation"}},[n("el-input",{attrs:{"show-password":"",type:"password"},model:{value:e.form.password_confirmation,callback:function(t){e.$set(e.form,"password_confirmation",t)},expression:"form.password_confirmation"}})],1),e._v(" "),n("el-form-item",{staticClass:"tw-flex tw-justify-center"},[e.$route.params.id?[n("el-button",{attrs:{loading:e.loading.button,round:"",type:"primary",icon:"el-icon-edit"},on:{click:function(){return e.update("users")}}},[e._v("\n              "+e._s(e.$t("button.edit"))+"\n            ")])]:[n("el-button",{attrs:{loading:e.loading.button,round:"",type:"success",icon:"el-icon-plus"},on:{click:function(){return e.store("users")}}},[e._v("\n              "+e._s(e.$t("button.create"))+"\n            ")])]],2)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=y.exports},cvm0:function(e,t,n){"use strict";n("S8iK")},dyIB:function(e,t,n){"use strict";n.r(t);n("x0AG"),n("pDQq");var a=n("o0o1"),r=n.n(a),i=(n("ls82"),n("yXPU")),o=n.n(i),s=n("DHbo"),l=n("k9pt"),c=n("t5Fl"),p=new(n("1pTT").a),d={components:{Pagination:l.a},mixins:[s.default],data:function(){return{table:{listQuery:{search:"",limit:25,ascending:1,page:1,orderBy:"updated_at",updated_at:[]},list:null,total:0,loading:!1},avatarFail:n("YQL4")}},watch:{"table.listQuery.search":Object(c.a)((function(){this.handleFilter()}),500)},created:function(){this.getList()},methods:{getList:function(){var e=this;return o()(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.table.loading=!0,t.next=3,p.list(e.table.listQuery);case 3:n=t.sent,a=n.data,e.table.list=a.data,e.table.total=a.count,e.table.loading=!1;case 8:case"end":return t.stop()}}),t)})))()},handleFilter:function(){this.table.listQuery.page=1,this.getList()},changeDateRangePicker:function(e){if(e){var t=this.parseTimeToTz(e[0]),n=this.parseTimeToTz(e[1]);this.table.listQuery.updated_at=[t,n]}else this.table.listQuery.updated_at=[];this.handleFilter()},sortChange:function(e){var t=e.prop,n=e.order;this.table.listQuery.orderBy=t,this.table.listQuery.ascending="ascending"===n?0:1,this.getList()},remove:function(e){var t=this;this.$confirm(this.$t("messages.delete_confirm",{attribute:this.$t("table.user.id")+"#"+e}),this.$t("messages.warning"),{confirmButtonText:this.$t("button.ok"),cancelButtonClass:this.$t("button.cancel"),type:"warning",center:!0}).then(o()(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.table.loading=!0,n.next=3,p.destroy(e);case 3:a=t.table.list.findIndex((function(t){return t.id===e})),t.table.list.splice(a,1),t.$message({showClose:!0,message:t.$t("messages.delete"),type:"success"}),t.table.loading=!1;case 7:case"end":return n.stop()}}),n)}))))},numericalOrder:function(e){var t=this.table.listQuery;return(t.page-1)*t.limit+e+1}}},u=n("KHd+"),m=Object(u.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{span:24}},[n("el-card",[n("div",{staticClass:"tw-flex tw-justify-end tw-items-center",attrs:{slot:"header"},slot:"header"},[n("router-link",{directives:[{name:"permission",rawName:"v-permission",value:["create"],expression:"['create']"}],staticClass:"pan-btn blue-btn",attrs:{to:{name:"user-create"},tag:"button"}},[n("i",{staticClass:"el-icon-plus mr-2"}),e._v("\n          "+e._s(e.$t("button.create"))+"\n        ")])],1),e._v(" "),n("div",{staticClass:"tw-flex tw-flex-col"},[n("el-col",{staticClass:"tw-mb-6",attrs:{span:24}},[n("el-col",{attrs:{xs:24,sm:10,md:6}},[n("label",[e._v(e._s(e.$t("table.texts.filter")))]),e._v(" "),n("el-input",{attrs:{placeholder:e.$t("table.texts.filterPlaceholder")},model:{value:e.table.listQuery.search,callback:function(t){e.$set(e.table.listQuery,"search",t)},expression:"table.listQuery.search"}})],1),e._v(" "),n("el-col",{attrs:{xs:24,sm:14,md:18}},[n("br"),e._v(" "),n("el-date-picker",{staticClass:"md:tw-float-right",attrs:{type:"daterange","start-placeholder":e.$t("date.start_date"),"end-placeholder":e.$t("date.end_date"),"picker-options":e.pickerOptions},on:{change:e.changeDateRangePicker},model:{value:e.table.listQuery.updated_at,callback:function(t){e.$set(e.table.listQuery,"updated_at",t)},expression:"table.listQuery.updated_at"}})],1)],1),e._v(" "),n("el-col",{staticClass:"table-responsive",attrs:{span:24}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"w-full",attrs:{data:e.table.list,"default-sort":{prop:"updated_at",order:"descending"},border:"",fit:"","highlight-current-row":""},on:{"sort-change":e.sortChange}},[n("el-table-column",{attrs:{align:"center",sortable:"custom",prop:"id",label:e.$t("table.user.id"),width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.$index;return[e._v("\n                "+e._s(e.numericalOrder(n))+"\n              ")]}}])}),e._v(" "),n("el-table-column",{attrs:{"data-generator":"name",align:"left","header-align":"center",label:e.$t("table.user.name")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n                "+e._s(n.name)+"\n              ")]}}])}),e._v(" "),n("el-table-column",{attrs:{"data-generator":"email",align:"left","header-align":"center",label:e.$t("table.user.email")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n                "+e._s(n.email)+"\n              ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:e.$t("table.user.avatar")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("el-avatar",{attrs:{size:60,src:a.avatar}},[n("img",{attrs:{src:e.avatarFail}})])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:e.$t("table.user.role")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n                "+e._s(n.roles[0].name)+"\n              ")]}}])}),e._v(" "),n("el-table-column",{attrs:{"data-generator":"updated_at",prop:"updated_at",label:e.$t("date.updated_at"),sortable:"custom",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n                "+e._s(e._f("parseTime")(n.updated_at,"{y}-{m}-{d}"))+"\n              ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:e.$t("table.actions"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("router-link",{directives:[{name:"permission",rawName:"v-permission",value:["edit"],expression:"['edit']"}],attrs:{to:{name:"user-edit",params:{id:a.id}}}},[n("i",{staticClass:"el-icon-edit el-link el-link--primary mr-2"})]),e._v(" "),n("a",{directives:[{name:"permission",rawName:"v-permission",value:["delete"],expression:"['delete']"}],staticClass:"cursor-pointer",on:{click:function(t){return t.stopPropagation(),e.remove(a.id)}}},[n("i",{staticClass:"el-icon-delete el-link el-link--danger"})])]}}])})],1),e._v(" "),e.table.total>0?n("pagination",{attrs:{total:e.table.total,page:e.table.listQuery.page,limit:e.table.listQuery.limit},on:{"update:page":function(t){return e.$set(e.table.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.table.listQuery,"limit",t)},pagination:e.getList}}):e._e()],1)],1)])],1)],1)}),[],!1,null,null,null);t.default=m.exports},hfrA:function(e,t,n){var a=n("G8Eg");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,r);a.locals&&(e.exports=a.locals)},hyAF:function(e,t,n){var a=n("v2a3");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,r);a.locals&&(e.exports=a.locals)},k9pt:function(e,t,n){"use strict";n("qePV"),n("R5XZ");Math.easeInOutQuad=function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t};var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function r(e,t,n){var r=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,i=e-r,o=0;t=void 0===t?500:t;!function e(){o+=20;var s,l=Math.easeInOutQuad(o,r,i,t);s=l,document.documentElement.scrollTop=s,document.body.parentNode.scrollTop=s,document.body.scrollTop=s,o<t?a(e):n&&"function"==typeof n&&n()}()}var i={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:25},pageSizes:{type:Array,default:function(){return[10,25,50,100]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1},scrollTo:{type:Number,default:0}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&r(this.scrollTo,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&r(this.scrollTo,800)}}},o=(n("7Uuw"),n("KHd+")),s=Object(o.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[n("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)}),[],!1,null,"f0c38056",null);t.a=s.exports},kHdp:function(e,t,n){var a=n("XPfa");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,r);a.locals&&(e.exports=a.locals)},kUKf:function(e,t,n){var a=n("RZPo");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,r);a.locals&&(e.exports=a.locals)},"kd+D":function(e,t,n){(t=n("JPst")(!1)).push([e.i,".pan-item[data-v-5df7bc46] {\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n  display: inline-block;\n  position: relative;\n  cursor: default;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n}\n.pan-info-roles-container[data-v-5df7bc46] {\n  padding: 20px;\n  text-align: center;\n}\n.pan-thumb[data-v-5df7bc46] {\n  width: 100%;\n  height: 100%;\n  background-size: 100%;\n  border-radius: 50%;\n  overflow: hidden;\n  position: absolute;\n  transform-origin: 95% 40%;\n  transition: all 0.3s ease-in-out;\n}\n.pan-thumb[data-v-5df7bc46]:after {\n  content: '';\n  width: 8px;\n  height: 8px;\n  position: absolute;\n  border-radius: 50%;\n  top: 40%;\n  left: 95%;\n  margin: -4px 0 0 -4px;\n  background: radial-gradient(\n    ellipse at center,\n    rgba(14, 14, 14, 1) 0%,\n    rgba(125, 126, 125, 1) 100%\n  );\n  box-shadow: 0 0 1px rgba(255, 255, 255, 0.9);\n}\n.pan-info[data-v-5df7bc46] {\n  position: absolute;\n  width: inherit;\n  height: inherit;\n  border-radius: 50%;\n  overflow: hidden;\n  box-shadow: inset 0 0 0 5px rgba(0, 0, 0, 0.05);\n}\n.pan-info h3[data-v-5df7bc46] {\n  color: #fff;\n  text-transform: uppercase;\n  position: relative;\n  letter-spacing: 2px;\n  font-size: 18px;\n  margin: 0 60px;\n  padding: 22px 0 0 0;\n  height: 85px;\n  font-family: 'Open Sans', Arial, sans-serif;\n  text-shadow: 0 0 1px #fff, 0 1px 2px rgba(0, 0, 0, 0.3);\n}\n.pan-info p[data-v-5df7bc46] {\n  color: #fff;\n  padding: 10px 5px;\n  font-style: italic;\n  margin: 0 30px;\n  font-size: 12px;\n  border-top: 1px solid rgba(255, 255, 255, 0.5);\n}\n.pan-info p a[data-v-5df7bc46] {\n  display: block;\n  color: #333;\n  width: 80px;\n  height: 80px;\n  background: rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  color: #fff;\n  font-style: normal;\n  font-weight: 700;\n  text-transform: uppercase;\n  font-size: 9px;\n  letter-spacing: 1px;\n  padding-top: 24px;\n  margin: 7px auto 0;\n  font-family: 'Open Sans', Arial, sans-serif;\n  opacity: 0;\n  transition: transform 0.3s ease-in-out 0.2s, opacity 0.3s ease-in-out 0.2s,\n    background 0.2s linear 0s;\n  transform: translateX(60px) rotate(90deg);\n}\n.pan-info p a[data-v-5df7bc46]:hover {\n  background: rgba(255, 255, 255, 0.5);\n}\n.pan-item:hover .pan-thumb[data-v-5df7bc46] {\n  transform: rotate(-110deg);\n}\n.pan-item:hover .pan-info p a[data-v-5df7bc46] {\n  opacity: 1;\n  transform: translateX(0px) rotate(0deg);\n}\n",""]),e.exports=t},pIWR:function(e,t,n){(t=n("JPst")(!1)).push([e.i,"/* Mallki */\n.link--mallki {\n  font-weight: 800;\n  color: #4dd9d5;\n  font-family: 'Dosis', sans-serif;\n  transition: color 0.5s 0.25s;\n  overflow: hidden;\n  position: relative;\n  display: inline-block;\n  line-height: 1;\n  outline: none;\n  text-decoration: none;\n}\n.link--mallki:hover {\n  transition: none;\n  color: transparent;\n}\n.link--mallki::before {\n  content: '';\n  width: 100%;\n  height: 6px;\n  margin: -3px 0 0 0;\n  background: #3888fa;\n  position: absolute;\n  left: 0;\n  top: 50%;\n  transform: translate3d(-100%, 0, 0);\n  transition: transform 0.4s;\n  transition-timing-function: cubic-bezier(0.7, 0, 0.3, 1);\n}\n.link--mallki:hover::before {\n  transform: translate3d(100%, 0, 0);\n}\n.link--mallki span {\n  position: absolute;\n  height: 50%;\n  width: 100%;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n}\n.link--mallki span::before {\n  content: attr(data-letters);\n  color: red;\n  position: absolute;\n  left: 0;\n  width: 100%;\n  color: #3888fa;\n  transition: transform 0.5s;\n}\n.link--mallki span:nth-child(2) {\n  top: 50%;\n}\n.link--mallki span:first-child::before {\n  top: 0;\n  transform: translate3d(0, 100%, 0);\n}\n.link--mallki span:nth-child(2)::before {\n  bottom: 0;\n  transform: translate3d(0, -100%, 0);\n}\n.link--mallki:hover span::before {\n  transition-delay: 0.3s;\n  transform: translate3d(0, 0, 0);\n  transition-timing-function: cubic-bezier(0.2, 1, 0.3, 1);\n}\n",""]),e.exports=t},pOXq:function(e,t,n){"use strict";n("BCM1")},qRN2:function(e,t,n){(t=n("JPst")(!1)).push([e.i,'/* CSS Simple Pre Code */\npre[data-v-cfa23f46] {\n  font-size: 1.5rem;\n  border: 1px solid grey;\n  width: 60vw;\n  max-width: 700px;\n  border-left: 12px solid #67c23a;\n  border-radius: 5px;\n  padding: 14px;\n  white-space: pre;\n  word-wrap: break-word;\n  overflow: auto;\n}\npre code[data-v-cfa23f46] {\n  font-family: "Inconsolata", "Monaco", "Consolas", "Andale Mono", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace;\n  color: #dd6b20;\n}',""]),e.exports=t},qSX3:function(e,t,n){"use strict";n("kUKf")},v2a3:function(e,t,n){(t=n("JPst")(!1)).push([e.i,".generate-table[data-v-93581832] thead > tr > th:nth-child(4) {\n  width: 245px;\n}",""]),e.exports=t},xUT9:function(e,t,n){"use strict";n("/Q67")},z0RP:function(e,t,n){"use strict";n.r(t);n("ma9I"),n("yq1k"),n("sMBO"),n("JTJg");var a={name:"PreCodeTag",props:{content:{type:String,required:!1,default:""}}},r=(n("zYT/"),n("KHd+")),i=Object(r.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("pre",{staticClass:"code code-php"},[this._v("  "),t("code",{domProps:{innerHTML:this._s(this.content)}}),this._v("\n")])}),[],!1,null,"cfa23f46",null).exports,o=n("O48x"),s=n("LvDl"),l=new o.a,c={components:{PreCodeTag:i},data:function(){return{loading:!1,loadingModel:!1,loadingDisplay:!1,dialogVisible:!1,options:["Search","Sort","Show"],relationshipOptions:["hasOne","hasMany","belongsToMany"],modelOptions:[],markdown:"# Relationship",displayColumns:[],displayColumns2:[],form:{model_current:"",relationship:"",model:"",column:"",column2:"",options:["Search","Sort","Show"]},drawDiagram:[]}},mounted:function(){var e=this,t=this.$route.params.id;t&&l.get(t).then((function(t){var n=t.data.data.model,a=JSON.parse(n);e.form.model_current=a.name,e.loadingModel=!0,l.getModels(n).then((function(t){e.loadingModel=!1;var n=t.data.data;e.modelOptions=n})).catch((function(){e.loadingModel=!1}))}))},methods:{diagram:function(){var e=this;l.generateDiagram(this.form.model_current).then((function(t){var n=t.data.data;e.drawDiagram=n}))},changeOptions:function(e){e.includes("Show")?"belongsToMany"===this.form.relationship?this.options=["Show","Search"]:this.options=["Search","Sort","Show"]:(this.form.options=[],this.options=["Show"])},createRelationship:function(){var e=this;this.loading=!0,l.generateRelationship(this.form).then((function(t){e.$message({showClose:!0,message:e.$t("messages.success"),type:"success"}),e.loading=!1,location.reload()})).catch((function(){e.loading=!1}))},replaceTemplate:function(e){var t=this,n="# Model ".concat(this.form.model_current,"\n      public function ").concat(Object(s.camelCase)(this.form.model),"() {\n        return $this->").concat(this.form.relationship,"(").concat(this.form.model,"::class);\n      }"),a="<br/>  # Model ".concat(this.form.model,"\n      public function ").concat(Object(s.camelCase)(this.form.model_current),"() {\n        return $this->belongsTo(").concat(this.form.model_current,"::class);\n      }");"belongsToMany"===this.form.relationship&&(a="<br/>  # Model ".concat(this.form.model,"\n      public function ").concat(Object(s.camelCase)(this.form.model_current),"() {\n        return $this->belongsToMany(").concat(this.form.model_current,"::class);\n      }"),a+="<br/>  # I will create a table ".concat(Object(s.snakeCase)(this.form.model_current),"_").concat(Object(s.snakeCase)(this.form.model))),this.form.relationship&&this.form.model&&(this.markdown=n.concat(a)),"belongsToMany"===this.form.relationship?(this.options=["Show","Search"],this.form.options=["Show","Search"]):(this.options=["Search","Sort","Show"],this.form.options=["Search","Sort","Show"]),e&&(this.loadingDisplay=!0,l.getColumns(this.form.model_current).then((function(e){t.loadingDisplay=!1;var n=e.data.data;t.displayColumns=n})).catch((function(){t.loadingDisplay=!1})),l.getColumns(this.form.model).then((function(e){t.loadingDisplay=!1;var n=e.data.data;t.displayColumns2=n})).catch((function(){t.loadingDisplay=!1})))}}},p=(n("qSX3"),Object(r.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{span:24}},[n("el-card",[n("div",{staticClass:"tw-text-center",attrs:{slot:"header"},slot:"header"},[n("button",{staticClass:"tw-hover:bg-green-600 tw-hover:text-white tw-font-bold tw-border tw-rounded tw-border-green-600 tw-text-green-600 tw-bg-transparent tw-py-3 tw-px-4",on:{click:function(t){e.dialogVisible=!0}}},[n("svg-icon",{attrs:{"icon-class":"tree"}})],1)]),e._v(" "),n("section",{staticClass:"section"},[n("div",{staticClass:"tw-flex tw-flex-col tw-items-center"},[n("el-tag",{attrs:{type:"success",effect:"dark"}},[e._v("\n            "+e._s(e.form.model_current)+"\n          ")]),e._v(" "),n("div",{staticClass:"w-04-rem tw-h-24 tw-bg-indigo-600 tw-draw-arrow-down one"}),e._v(" "),n("el-select",{class:{"error-danger":e.errors.relationship},attrs:{placeholder:"Relationship"},on:{change:function(t){return e.replaceTemplate("")}},model:{value:e.form.relationship,callback:function(t){e.$set(e.form,"relationship",t)},expression:"form.relationship"}},e._l(e.relationshipOptions,(function(e,t){return n("el-option",{key:"relationship_"+t,attrs:{label:e,value:e}})})),1),e._v(" "),e.errors.relationship?n("p",{staticClass:"help is-danger tw-text-lg"},[e._v("\n            "+e._s(e.errors.relationship[0])+"\n          ")]):e._e(),e._v(" "),n("div",{staticClass:"w-04-rem tw-h-24 tw-bg-indigo-600 draw-arrow-down two"}),e._v(" "),n("el-select",{class:{"error-danger":e.errors.model},attrs:{loading:e.loadingModel,filterable:"",placeholder:"Model"},on:{change:function(t){return e.replaceTemplate("display")}},model:{value:e.form.model,callback:function(t){e.$set(e.form,"model",t)},expression:"form.model"}},e._l(e.modelOptions,(function(e,t){return n("el-option",{key:"model_"+t,attrs:{label:e,value:e}})})),1),e._v(" "),e.errors.model?n("p",{staticClass:"help is-danger tw-text-lg"},[e._v("\n            "+e._s(e.errors.model[0])+"\n          ")]):e._e(),e._v(" "),n("div",{staticClass:"w-04-rem tw-h-24 tw-bg-indigo-600 draw-arrow-down three"}),e._v(" "),n("div",{staticClass:"z-10"},[n("pre-code-tag",{attrs:{content:e.markdown}})],1),e._v(" "),n("div",{staticClass:"w-04-rem tw-h-24 tw-bg-indigo-600 draw-arrow-down four"}),e._v(" "),n("el-select",{staticClass:"z-10",class:{"error-danger":e.errors.column},attrs:{loading:e.loadingDisplay,filterable:"",placeholder:"Display Column"},model:{value:e.form.column,callback:function(t){e.$set(e.form,"column",t)},expression:"form.column"}},e._l(e.displayColumns,(function(e,t){return n("el-option",{key:"col_"+t,attrs:{label:e,value:e}})})),1),e._v(" "),"belongsToMany"===e.form.relationship?[n("div",{staticClass:"w-04-rem tw-h-24 tw-bg-indigo-600 draw-arrow-down equivalent"}),e._v(" "),n("el-select",{class:{"error-danger":e.errors.column2},attrs:{loading:e.loadingDisplay,filterable:"",placeholder:"Display Column 2"},model:{value:e.form.column2,callback:function(t){e.$set(e.form,"column2",t)},expression:"form.column2"}},e._l(e.displayColumns2,(function(e,t){return n("el-option",{key:"col_"+t,attrs:{label:e,value:e}})})),1)]:e._e(),e._v(" "),e.errors.column?n("p",{staticClass:"help is-danger tw-text-lg"},[e._v("\n            "+e._s(e.errors.column[0])+"\n          ")]):e._e(),e._v(" "),n("div",{staticClass:"w-04-rem tw-h-24 tw-bg-indigo-600 draw-arrow-down five"}),e._v(" "),n("el-select",{staticClass:"options",attrs:{multiple:"",placeholder:"Options"},on:{change:function(t){return e.changeOptions(e.form.options)}},model:{value:e.form.options,callback:function(t){e.$set(e.form,"options",t)},expression:"form.options"}},e._l(e.options,(function(e,t){return n("el-option",{key:"option_"+t,attrs:{label:e,value:e}})})),1),e._v(" "),n("div",{staticClass:"w-04-rem tw-h-24 tw-bg-indigo-600 draw-arrow-down six"}),e._v(" "),n("el-tooltip",{attrs:{effect:"dark",content:e.$t("route.generator_relationship"),placement:"bottom"}},[n("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"z-10",attrs:{type:"success",icon:"el-icon-check",circle:""},on:{click:function(t){return t.preventDefault(),e.createRelationship()}}})],1)],2),e._v(" "),n("div",{staticClass:"container is-fullhd"},[n("el-dialog",{attrs:{visible:e.dialogVisible,fullscreen:!0},on:{"update:visible":function(t){e.dialogVisible=t},open:e.diagram}},[n("div",{staticClass:"tw-text-center",attrs:{slot:"title"},slot:"title"},[n("h3",{staticClass:"title"},[e._v("\n                Diagram "+e._s(e.$t("route.generator_relationship"))+"\n              ")])]),e._v(" "),n("div",[n("div",{staticClass:"tree tw-text-center"},[n("ul",{staticClass:"tw-inline-block"},e._l(e.drawDiagram,(function(t,a){return n("li",{key:"diagram_"+a},[n("a",[e._v(e._s(t.model))]),e._v(" "),n("ul",{staticClass:"tw-flex"},e._l(t.data,(function(t,a){return n("li",{key:"itemDiagram_"+a},[n("a",[e._v(e._s(t.type))]),e._v(" "),n("ul",[n("li",[n("a",{staticClass:"tw-w-64"},[e._v(e._s(t.model))]),e._v(" "),t.table?n("ul",{class:{"has-mtm-parent":t.table}},[n("a",{staticClass:"tw-w-64"},[e._v(e._s(t.table))])]):e._e(),e._v(" "),n("ul",[n("li",[n("a",{class:{"has-mtm":t.table}},[e._v("\n                                  "+e._s(t.foreign_key)+"\n                                ")])]),e._v(" "),n("li",[n("a",{class:{"has-mtm":t.table}},[e._v("\n                                  "+e._s(t.local_key)+"\n                                ")])])])])])])})),0)])})),0)])])])],1)])])],1)],1)}),[],!1,null,"6247825c",null));t.default=p.exports},"zYT/":function(e,t,n){"use strict";n("SO9Y")}}]);